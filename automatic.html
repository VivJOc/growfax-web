<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Growfax Official - Shop & Downloads</title>
  <link rel="icon" href="Growfax_banner.jpg" type="image/jpeg" />

  <style>
    /* --- styling sama seperti sebelumnya --- */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f8f8f8;
      margin: 0;
      padding: 0;
      color: #333;
    }
    .header {
      background: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      padding: 15px 0;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .role-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      list-style: none;
      padding: 0;
      margin: 30px auto;
      max-width: 1000px;
    }
    .role-item {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .price { font-size: 1.6em; font-weight: bold; margin-bottom: 10px; }
    .paypal-button-container { margin-top: 15px; }
  </style>
</head>
<body>

  <div class="header">
    <h1>Growfax Official</h1>
    <p>Official Role Shop — Secure Payments via PayPal</p>
  </div>

  <ul class="role-list">
    <li class="role-item">
      <h3>VIP</h3>
      <p class="price">USD 0.903</p>
      <div class="paypal-button-container" id="paypal-vip"></div>
    </li>

    <li class="role-item">
      <h3>VIP+</h3>
      <p class="price">USD 1.504</p>
      <div class="paypal-button-container" id="paypal-vipplus"></div>
    </li>

    <li class="role-item">
      <h3>Moderator</h3>
      <p class="price">USD 3.309</p>
      <div class="paypal-button-container" id="paypal-mod"></div>
    </li>

    <li class="role-item">
      <h3>Super Moderator</h3>
      <p class="price">USD 4.212</p>
      <div class="paypal-button-container" id="paypal-supermod"></div>
    </li>

    <li class="role-item">
      <h3>Developer</h3>
      <p class="price">USD 5.415</p>
      <div class="paypal-button-container" id="paypal-dev"></div>
    </li>

    <li class="role-item">
      <h3>God</h3>
      <p class="price">USD 9.025</p>
      <div class="paypal-button-container" id="paypal-god"></div>
    </li>

    <li class="role-item">
      <h3>God Max</h3>
      <p class="price">USD 15.042</p>
      <div class="paypal-button-container" id="paypal-godmax"></div>
    </li>
  </ul>

  <script src="AaTxqCEZ-oinQ1yg7ip-tAWY0PDrnp5aZbUme2eH-6eZMSy9MCmUCrKRvTTrMPCeJe2yzzlVFKJkZQyT&currency=USD"></script>
  <script>
    const webhookUrl = "https://hooks.zapier.com/hooks/catch/25202128/uipft59/";

    const roles = [
      { id: "paypal-vip", name: "VIP", price: 0.903 },
      { id: "paypal-vipplus", name: "VIP+", price: 1.504 },
      { id: "paypal-mod", name: "Moderator", price: 3.309 },
      { id: "paypal-supermod", name: "Super Moderator", price: 4.212 },
      { id: "paypal-dev", name: "Developer", price: 5.415 },
      { id: "paypal-god", name: "God", price: 9.025 },
      { id: "paypal-godmax", name: "God Max", price: 15.042 },
    ];

    roles.forEach(role => {
      paypal.Buttons({
        style: {
          color: 'blue',
          shape: 'pill',
          label: 'pay',
          height: 40
        },
        createOrder: (data, actions) => {
          return actions.order.create({
            purchase_units: [{
              amount: {
                value: role.price.toFixed(3)
              },
              description: `Growfax Role Purchase - ${role.name}`
            }]
          });
        },
        onApprove: async (data, actions) => {
          const details = await actions.order.capture();
          const payer = details.payer.name.given_name;

          // Kirim data ke Zapier
          fetch(webhookUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              role: role.name,
              amount: role.price,
              payer_name: payer,
              paypal_id: details.id,
              time: new Date().toISOString(),
              status: details.status
            })
          });

          alert(`✅ Terima kasih ${payer}! Pembayaran untuk ${role.name} berhasil.`);
        },
        onError: (err) => {
          console.error(err);
          alert("❌ Pembayaran gagal. Coba lagi nanti.");
        }
      }).render(`#${role.id}`);
    });
  </script>

</body>
</html>
