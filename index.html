<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Growfax Official - Private Growtopia Server & Downloads</title>
<link rel="icon" href="Growfax_banner.jpg" type="image/jpeg">

<meta name="description" content="Situs resmi Growfax, private server Growtopia. Unduh file host terbaru untuk Android, Windows, dan iOS. Mainkan Growtopia dengan fitur eksklusif dan komunitas aktif!"
/>
<meta name="keywords" content="Growfax, Growtopia Private Server, Growtopia PS, Download Growfax, Host Growfax, Growfax Android, Growfax Windows" />
<meta name="robots" content="index, follow" />
<link rel="canonical" href="https://growfax.web.id/home" />

<meta property="og:type" content="website" />
<meta property="og:url" content="https://growfax.web.id/home" />
<meta property="og:title" content="Growfax Official - Private Growtopia Server & Downloads" />
<meta property="og:description" content="Unduh file host terbaru untuk Growfax Private Server (Android, Windows, iOS) dan bergabunglah dengan komunitas Discord kami."
/>
<meta property="og:image" content="https://growfax.web.id/Growfax_banner.jpg" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content="https://growfax.web.id/home" />
<meta name="twitter:title" content="Growfax Official - Private Growtopia Server & Downloads" />
<meta name="twitter:description" content="Unduh file host terbaru untuk Growfax Private Server (Android, Windows, iOS) dan bergabunglah dengan komunitas Discord kami."
/>
<meta name="twitter:image" content="https://growfax.web.id/Growfax_banner.jpg" />

<meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload" />
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" /> 

<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer ||
[];
  function gtag(){dataLayer.push(arguments);}
  gtag('config', 'G-XXXXXXXXXX'); // Placeholder ID for Growfax Analytics
</script>
<style>
  /* ============================================================
     Growfax Official ‚Äî FULL UI stylesheet (futuristic neon/fax)
     - Mobile-First Optimization Applied (Fixed Horizontal Scrolling)
     ============================================================ */

  /* Global Reset: Ensure padding/border don't cause overflow */
  *, *::before, *::after {
    box-sizing: border-box;
}

  /* NEW: Keyframes for Logo Animation */
  @keyframes pulse {
    0% { transform: scale(1);
 box-shadow: var(--logo-shadow); }
    50% { transform: scale(1.02); box-shadow: var(--logo-shadow-hover); }
    100% { transform: scale(1);
 box-shadow: var(--logo-shadow); }
  }

  :root{
    --bg:#f8f8f8;
    --card-bg:#fff;
    --text:#1a1a1a;
    --accent:#0078d7;
    --card-shadow:0 8px 20px rgba(0,0,0,0.08);
    --discord-color:#7289da;
    --muted:#667;
 --toast-bg:rgba(0,0,0,0.8);
    --glass: rgba(255,255,255,0.6);
    --success:#2ecc71;
    --danger:#e74c3c;
    --mono: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    --border-color: rgba(0,0,0,0.08);
    --shop-bg: #8e44ad;
 /* New color for shop: Purple */
    --shop-glow: rgba(142, 68, 173, 0.4);
 /* UPDATED: Custom properties for YELLOW glow effect in light mode */
    --glow-color-light: rgba(255, 193, 7, 0.6);
 /* soft yellow glow */
    --text-shadow-light: 0 0 10px var(--glow-color-light), 0 2px 4px rgba(0,0,0,0.2);
 --logo-shadow: 0 4px 12px rgba(0,0,0,0.12), 0 2px 6px rgba(0,0,0,0.08);
    --logo-shadow-hover: 0 8px 20px rgba(255, 193, 7, 0.4);
 }
  [data-theme="dark"]{
    --bg:#0f1720;
    --card-bg:#0b1220;
    --text:#e6eef8;
    --accent:#4da3ff;
    --card-shadow:0 8px 28px rgba(0,0,0,0.6);
    --discord-color:#5b6ea6;
    --muted:#9aa;
    --toast-bg:rgba(255,255,255,0.08);
    --glass: rgba(255,255,255,0.03);
 --border-color: rgba(255,255,255,0.06);
    --shop-bg: #9b59b6; /* Lighter purple for dark mode */
    --shop-glow: rgba(155, 89, 182, 0.6);
 /* UPDATED: Custom properties for YELLOW glow effect in dark mode */
    --glow-color-dark: rgba(255, 170, 0, 0.8);
 /* brighter gold glow */
    --text-shadow-dark: 0 0 12px var(--glow-color-dark), 0 2px 8px rgba(0,0,0,0.6);
 --logo-shadow: 0 6px 18px rgba(0,0,0,0.4), 0 3px 9px rgba(0,0,0,0.25);
    --logo-shadow-hover: 0 10px 25px rgba(255, 170, 0, 0.5);
 }

  html,body{
    height:100%;
    margin:0;
    font-family:var(--mono);
    background:var(--bg);
    color:var(--text);
    line-height:1.6;
    transition:background .25s,color .25s;
    overflow-x: hidden;
 }
  
  /* -------------------------
     Header / Navigation (Optimasi Mobile)
     ------------------------- */
  header{background:var(--card-bg);box-shadow:var(--card-shadow);position:sticky;top:0;z-index:1200}
  .header-content{
    max-width:1100px;
 margin:0 auto;
    padding:10px 10px; /* ADJUSTED: Reduced padding for mobile */
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:8px;
    flex-wrap: wrap;
 }
  .header-left{
    display:flex;
    align-items:center;
    gap:8px; 
    flex: 1 1 50%;
 }
  .brand-wrap{display:flex;align-items:center;gap:8px}
  
  /* Glow, lift, and Pulse Animation for logo image */
  .brand-wrap img{
    width:36px;
 height:36px;
    border-radius:6px;
    object-fit:cover;
    transition: box-shadow .25s, transform .25s, opacity 0.2s ease;
    box-shadow: var(--logo-shadow);
 /* Apply animation */
    animation: pulse 3s infinite ease-in-out;
  }

  h1{
    font-size:1.2rem;
    margin:0;
 font-weight:700;
    /* Added opacity transition for smoother language change */
    transition: text-shadow .25s, opacity 0.2s ease;
 color: var(--text);
    text-shadow: var(--text-shadow-light); 
  }
  [data-theme="dark"] h1 {
    text-shadow: var(--text-shadow-dark);
 }

  .brand-wrap > div > div { 
    font-size: 0.75rem;
 /* Added opacity transition for smoother language change */
    transition: opacity 0.2s ease;
 }

  nav.primary{
    color:var(--accent);
    text-decoration:none;
    font-weight:700;
    margin-left:auto; 
    font-size: 0.9rem;
    flex: 1 1 100%; 
    margin-top: 6px;
 /* ADJUSTED: Reduced margin for tighter fit */
    text-align: left;
 }
  nav.primary a{
      color:var(--accent);
      text-decoration:none;
      font-weight:700;
      margin-left:0;
      margin-right: 12px;
 /* Added opacity transition for smoother language change */
      transition: opacity 0.2s ease, transform .18s;
 }
  nav.primary a:hover{opacity:.86;transform:translateY(-1px)}
  
  .controls{
    display:flex;
    align-items:center;
    gap:6px;
    flex: 0 1 auto;
 /* FIX FOR MOBILE WRAPPING: Allow buttons to wrap within the controls box */
    flex-wrap: wrap;
 justify-content: flex-end; /* Keep the buttons aligned to the right */
  }
  /* Gaya untuk semua tombol kontrol di header */
  .theme-toggle,.lang-select,.open-welcome, .report-bug-btn, #openAdmin {
    font-size:0.9rem;
 padding:6px 8px;
    border-radius:8px;
    border:1px solid var(--border-color);
    background:transparent;
    color:var(--text);
    cursor:pointer;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 4px;
 /* Added opacity transition for smoother language change */
    transition: background-color .15s, opacity 0.2s ease;
 }
  .report-bug-btn:hover, .theme-toggle:hover, .open-welcome:hover, #openAdmin:hover {
    background: rgba(0,0,0,0.05);
 }
  [data-theme="dark"] .report-bug-btn:hover, [data-theme="dark"] .theme-toggle:hover, [data-theme="dark"] .open-welcome:hover, [data-theme="dark"] .#openAdmin:hover {
    background: rgba(255,255,255,0.05);
 }

  /* -------------------------
     Banner / Hero
     ------------------------- */
  .banner-section{text-align:center;padding:40px 10px;background:linear-gradient(90deg, rgba(0,0,0,0.03), rgba(255,255,255,0.02))}
  .banner-section img{max-width:200px;border-radius:8px;margin-bottom:14px}
  .banner-section h2{
    font-size:1.6rem;
 color:#ffaa00;
    margin:8px 0;
    text-shadow:0 0 10px rgba(255,170,0,0.18);
    transition: opacity 0.2s ease;
  }
  .banner-section p{
    font-size:0.95rem;
    opacity:.92;
 margin:0;
    transition: opacity 0.2s ease;
  }
  .time-display{
    margin-top:8px;
    font-size:0.85rem;
    font-weight:600;
    opacity:.9;
    transition: opacity 0.2s ease;
 }

  /* -------------------------
     Container (main content)
     ------------------------- */
  .container{max-width:1000px;margin:32px auto;text-align:center;padding:0 10px}
  .container h2{
    font-size:1.4rem;
 margin-bottom:24px;
    transition: opacity 0.2s ease;
  }
  
  /* Platform Buttons: Full width for mobile */
  .platform-buttons{display:flex;flex-wrap:wrap;justify-content:center;gap:14px}
  .platform-buttons a{
    display:flex;align-items:center;justify-content:center;gap:12px;
 width:92%; 
    padding:14px 18px;border-radius:12px;color:#fff;font-weight:700;
    text-decoration:none;border:1px solid transparent;font-size:1.02rem;
    transition:transform .18s ease,box-shadow .18s, opacity 0.2s ease;
 }
  .platform-buttons a img{width:30px;height:30px;border-radius:6px}
  .platform-buttons a:hover{transform:translateY(-2px)}

  .btn-android{background:#34c759;--glow:#4cff77;box-shadow:0 4px 16px rgba(76,255,119,0.08)}
  .btn-windows{background:#0078d7;--glow:#4da3ff;box-shadow:0 4px 16px rgba(77,163,255,0.08)}
  .btn-ios{background:#007aff;--glow:#7acbff;box-shadow:0 4px 16px rgba(122,203,255,0.08)}
  .btn-powertunnel{background:#b71c1c;--glow:#ff5a5a;box-shadow:0 4px 16px rgba(255,90,90,0.08)}

  /* NEW: Shop Roles Grid */
  .shop-roles {
      display: grid;
 grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
      margin-top: 24px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
 }
  .shop-role-card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 12px;
      border-top: 4px solid var(--shop-bg);
 display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
      height: auto;
 /* Allow card height to adjust to content */
  }
  .shop-role-card:hover {
      transform: translateY(-5px);
 box-shadow: 0 10px 30px var(--shop-glow);
  }
  .shop-role-card h3 {
      margin-top: 0;
      font-size: 1.25rem;
 color: var(--shop-bg);
      text-shadow: 0 0 5px rgba(142, 68, 173, 0.1);
 }
  .shop-role-card .price {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--text);
      margin: 8px 0 15px;
 }
  .shop-role-card .price small {
      font-size: 0.8rem;
      font-weight: 400;
      opacity: 0.7;
 }
  /* NEW: Style for the multiple currency display */
  .shop-role-card .currency-display {
      display: block;
 font-size: 0.8rem; /* Smaller font for secondary currencies */
      font-weight: 500; 
      opacity: 0.8; 
      margin-top: 6px;
 line-height: 1.4;
      white-space: pre-wrap;
  }
  /* UPDATED: UL style for commands (Added Scroll functionality) */
  .shop-role-card ul {
      list-style-type: none;
 padding: 0;
      margin-bottom: 20px;
      font-size: 0.9rem;
      color: var(--muted);
      white-space: pre-wrap;
 /* NEW SCROLL STYLES */
      max-height: 200px;
 /* Max height before scroll */
      overflow-y: auto;
      border: 1px solid var(--border-color);
 /* Border for visual clarity of scroll area */
      padding: 8px;
      border-radius: 6px;
 }

  /* Style adjustment for the list items inside the scrollable area */
  .shop-role-card ul li {
      margin-bottom: 8px;
 border-left: 3px solid var(--shop-bg);
      padding-left: 8px;
      line-height: 1.3;
      padding-right: 4px;
 /* Ensure content doesn't touch scrollbar */
  }
  .shop-role-card ul li:before {
      content: none;
 /* Remove default bullet */
  }
  .shop-role-card ul li strong {
      color: var(--accent);
 font-weight: 600;
      display: block;
      margin-bottom: 2px;
  }
  .shop-role-card ul li span {
      display: block;
 font-size: 0.85rem;
      opacity: 0.8;
  }
  .btn-purchase {
      background: var(--shop-bg);
      color: white;
      text-decoration: none;
 padding: 10px 15px;
      border-radius: 8px;
      font-weight: 700;
      text-align: center;
      transition: background 0.15s, transform 0.15s;
 }
  .btn-purchase:hover {
      background: #732a9a;
      transform: translateY(-1px);
 }
  /* ADDED: Style for dual purchase buttons */
  .shop-role-card .purchase-buttons {
      display: flex;
 gap: 10px;
      margin-top: 15px;
      width: 100%;
      flex-wrap: wrap; /* NEW: Allow wrapping for many buttons */
  }
  /* Ensure the button links themselves manage the flex sizing */
  .shop-role-card .purchase-buttons .btn-purchase {
      display: flex;
 flex: 1 1 calc(50% - 5px); /* Set to max 2 buttons per row on mobile */
      align-items: center;
 justify-content: center;
      min-width: 120px; /* Ensure a minimum size */
  }
  /* New style for IDR button */
  .btn-idr {
      background: #27ae60;
 /* Green color for IDR/Rupiah */
  }
  .btn-idr:hover {
      background: #1e8449;
 }
  /* NEW: EUR Button */
  .btn-eur {
      background: #004494;
 /* Dark Blue for EUR */
  }
  .btn-eur:hover {
      background: #003370;
 }
  /* NEW: GBP Button */
  .btn-gbp {
      background: #c0392b;
 /* Reddish Brown for GBP */
  }
  .btn-gbp:hover {
      background: #a93226;
 }
  /* NEW: AUD Button */
  .btn-aud {
      background: #f1c40f;
 /* Yellow/Gold for AUD */
      color: #333;
 /* Dark text for contrast */
  }
  .btn-aud:hover {
      background: #d4ac0d;
 }
  /* NEW: SGD Button */
  .btn-sgd {
      background: #3498db;
 /* Light Blue for SGD */
  }
  .btn-sgd:hover {
      background: #2980b9;
 }
  /* NEW: CAD Button */
  .btn-cad {
      background: #e74c3c;
 /* Red for CAD */
  }
  .btn-cad:hover {
      background: #c0392b;
 }


  /* -------------------------
     Discord Section
     ------------------------- */
  .discord-section{background:var(--discord-color);color:#fff;padding:24px;border-radius:10px;max-width:820px;margin:32px auto 50px;text-align:center;box-shadow:var(--card-shadow)}
  .discord-section img{width:48px;height:48px;border-radius:8px;margin-bottom:8px}
  .discord-section h3, .discord-section p, .discord-section a {
    transition: opacity 0.2s ease;
 }

  /* -------------------------
     Footer
     ------------------------- */
  footer{
    text-align:center;
 margin:30px 0 40px;
    font-size:.85rem;
    opacity:.85;
    transition: opacity 0.2s ease;
  }

  /* -------------------------
     Modal & Welcome/Admin Popup
     ------------------------- */
  .modal-backdrop, .welcome-backdrop, .admin-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:1300}
  .modal, .welcome{width:92%;max-width:560px;background:var(--card-bg);color:var(--text);border-radius:12px;padding:16px;box-shadow:0 14px 40px rgba(0,0,0,0.2);transform:translateY(0);transition:transform .18s,opacity .18s}
  
  /* Added opacity transition to modal/welcome text elements */
  .modal h3, .modal p, .modal .changelog, .welcome h2, .welcome p, .welcome label, .welcome button, .modal h2, .modal h4 {
      transition: opacity 0.2s ease;
 }
  
  /* NEW: Admin Modal specific styles (input and buttons) */
  #adminTokenInput, #newsUpdateTextarea, #seoTitleInput, #seoDescTextarea, #seoKeywordsInput {
    /* Ensure they match the theme */
    border: 1px solid var(--border-color) !important;
 background: var(--card-bg) !important;
    color: var(--text) !important;
  }

  /* -------------------------
     Floating Discord button
     ------------------------- */
  .floating-chat{position:fixed;right:12px;bottom:12px;width:48px;height:48px;border-radius:50%;background:var(--discord-color);display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.2);cursor:pointer;z-index:1500}
  .floating-chat img{width:24px;height:24px;border-radius:4px}

  /* -------------------------
     Toast message
     ------------------------- */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:70px;background:var(--toast-bg);color:#fff;padding:8px 12px;border-radius:10px;opacity:0;pointer-events:none;transition:opacity .18s,transform .18s;z-index:1600}
  
  /* ===========================
     PC/Desktop Optimizations (Min-width 600px)
     =========================== */
  @media (min-width: 600px) {
    /* Header/Nav kembali ke ukuran besar */
    .header-content {
        flex-wrap: nowrap;
 align-items: center;
        padding: 14px 20px;
    }
    /* Logo size PC */
    .brand-wrap img{width:46px;height:46px;border-radius:8px}
    /* H1 size PC */
    h1{font-size:1.4rem;}
    .brand-wrap > div > div { font-size: 0.85rem;
 }
    nav.primary {
        flex: 0 1 auto; 
        margin-top: 0;
 margin-left: 12px; 
        text-align: left;
    }
    nav.primary a{
        margin-left:12px;
        margin-right: 0;
 font-size: 1rem;
    }
    .controls{gap:10px; flex-wrap: nowrap;} /* Reset wrap on PC */
    /* Ukuran PC untuk semua tombol kontrol */
    .theme-toggle,.lang-select,.open-welcome, .report-bug-btn, #openAdmin {
        font-size:0.98rem;
 padding:8px 12px;
        border-radius: 10px;
    }

    /* Tombol Unduhan kembali ke layout 300px */
    .platform-buttons{gap:20px}
    .platform-buttons a{
      width:300px;
 }
    .platform-buttons a:hover{transform:translateY(-4px)}
    
    /* Shop Roles Grid PC */
    .shop-roles {
        grid-template-columns: repeat(3, minmax(200px, 1fr));
 /* 3 columns on desktop */
    }
    /* On desktop, buttons can take up less space */
    .shop-role-card .purchase-buttons .btn-purchase {
        flex: 1 1 calc(33.33% - 7px);
 /* Allow up to 3 buttons per row on PC */
        min-width: 90px;
 }

    /* Banner/Content padding besar */
    .banner-section{padding:56px 20px;}
    .banner-section img{max-width:240px;border-radius:10px;}
    .banner-section h2{font-size:1.9rem;}
    .container{margin:48px auto;padding:0 18px}
    .container h2{font-size:1.6rem;margin-bottom:28px}
    .discord-section{padding:32px;margin:42px auto 60px;}

    /* Floating button kembali ke posisi normal */
    .floating-chat{right:18px;bottom:18px;width:56px;height:56px;}
    .floating-chat img{width:28px;height:28px;}
    .toast{bottom:86px;}
  }
</style>
</head>
<body data-theme="light">
  <header>
    <div class="header-content">
      <div class="header-left">
        <div class="brand-wrap">
          
 
 <img src="Growfax_banner.jpg" alt="Growfax Logo">
          <div>
            <h1>Growfax Official</h1>
            <div style="font-size:0.85rem;color:var(--muted)">Private Growtopia Server</div>
          </div>
        </div>

        <nav class="primary" aria-label="Main navigation">
          <a href="#downloads" id="navDownloads">üì• Downloads</a> 
          <a href="#shop" id="navShop">üõí Shop</a>
  
 
       </nav>
      </div>

      <div class="controls">
        <a href="#" 
           id="reportBugLink" 
           class="report-bug-btn" 
           title="Report a Bug">üêû Report Bug</a>
        
        <button id="openAdmin" class="open-welcome" title="Admin Area">üîë Admin</button> <button id="openWelcome" class="open-welcome" title="Welcome & Preferences">‚öôÔ∏è</button>
   
 
  
        <select id="langSelect" class="lang-select" title="Language" aria-label="Select language">
          <option value="en">üá¨üáß English</option>
          <option value="id">üáÆüá© Bahasa</option>
        </select>
        <button id="themeToggle" class="theme-toggle" aria-pressed="false" title="Toggle theme">üåû Light</button>
      </div>
    </div>
  </header>

  <section class="banner-section" role="region" aria-label="Main banner">
    <img src="Growfax_banner.jpg" alt="Growfax Banner">
    <h2>Welcome to Growfax</h2>
    
 <p>Private Growtopia Server</p>
 
  
   <div id="timeDisplay" class="time-display">Loading time...</div>
  </section>

  <main class="container" role="main">
    <section id="downloads">
        <h2>üì• Essential File Downloads</h2>
        <div class="platform-buttons" role="list">
          <a href="Growfax_VirtualHost.txt" class="btn-android" data-filename="Growfax_VirtualHost.txt" data-filekey="virtualhost" download role="listitem">
            <img src="virtual-host.png" alt="">Play on Android
          </a>

          <a href="Growfax_Patched_.bat" class="btn-windows" data-filename="Growfax_Patched_.bat" data-filekey="patched" download 
 role="listitem">
  
 
        <img src="windows.png" alt="">Play on Windows
          </a>

          <a href="#" class="btn-ios" data-filename="GrowFax_ios_config.txt" data-filekey="ios" role="listitem">
            <img src="surge5.png" alt="">Play on iOS
          </a>

          <a href="#" class="btn-powertunnel" data-filename="PowerTunnel_Host.txt" data-filekey="powertunnel" role="listitem">
            <img src="powertunnel.jpeg" alt="">Play via PowerTunnel
 
  
      
       </a>
        </div>
    </section>

    <section id="shop" style="margin-top: 60px;
 padding-top: 10px;">
        <h2>üõí Growfax Server Roles</h2>
        <p style="opacity: 0.8;">Support the server and unlock exclusive roles! Direct purchase via PayPal.me.</p>

        <div class="shop-roles">
            <div class="shop-role-card">
                <div>
                    <h3>üëë Admin Server Role</h3>
       
 
              <p class="price" data-usd="45" 
                        data-idr="675000" data-eur="7.91" data-gbp="36.00" 
                        data-aud="12.90" data-sgd="60.75" data-cad="11.61">
                        $45.00 <small>USD</small>
     
 
                   <span class="currency-display">
                            ~ ¬£36.00 <small>GBP</small> | ~ Rp 675.000 <small>IDR</small> | ~ S$60.75 <small>SGD</small><br>
                            ~ ‚Ç¨7.91 <small>EUR</small> | ~ A$12.90 <small>AUD</small> | ~ C$11.61 <small>CAD</small>
  
 
                      </span>
                    </p>
                    <ul id="admin_commands"></ul>
                </div>
                <div class="purchase-buttons">
  
   
             <a href="https://paypal.me/BilzXd1/45USD" target="_blank" rel="noopener" class="btn-purchase btn-usd" data-role="admin" data-price="45">Pay $USD</a>
                    <a href="https://paypal.me/BilzXd1/7.91EUR" target="_blank" rel="noopener" class="btn-purchase btn-eur" data-role="admin" data-price-eur="7.91">Pay ‚Ç¨EUR</a>
                    <a href="https://paypal.me/BilzXd1/36.00GBP" target="_blank" rel="noopener" class="btn-purchase btn-gbp" data-role="admin" data-price-gbp="36.00">Pay ¬£GBP</a>
                 
       
             <a href="https://paypal.me/BilzXd1/12.90AUD" 
 target="_blank" rel="noopener" class="btn-purchase btn-aud" data-role="admin" data-price-aud="12.90">Pay A$AUD</a>
                    <a href="https://paypal.me/BilzXd1/60.75SGD" target="_blank" rel="noopener" class="btn-purchase btn-sgd" data-role="admin" data-price-sgd="60.75">Pay S$SGD</a>
                    <a href="https://paypal.me/BilzXd1/11.61CAD" target="_blank" rel="noopener" class="btn-purchase btn-cad" data-role="admin" data-price-cad="11.61">Pay C$CAD</a>
                    <a href="https://paypal.me/BilzXd1/675000IDR" target="_blank" 
 rel="noopener" class="btn-idr btn-purchase" data-role="admin" data-price-idr="675000">Bayar Rp IDR</a>
                </div>
            </div>
            
            <div class="shop-role-card">
                <div>
                    <h3>üåü VIP Server Role</h3>
                    <p class="price" data-usd="20" data-idr="300000" data-eur="16.50" data-gbp="16.00" data-aud="27.00" data-sgd="27.00" data-cad="27.00">
                        $20.00 <small>USD</small>
                        <span class="currency-display">
                            ~ ¬£16.00 <small>GBP</small> | ~ Rp 300.000 <small>IDR</small> | ~ S$27.00 <small>SGD</small><br>
                            ~ ‚Ç¨16.50 <small>EUR</small> | ~ A$27.00 <small>AUD</small> | ~ C$27.00 <small>CAD</small>
                        </span>
                    </p>
                    <ul id="vip_commands"></ul>
                </div>
                <div class="purchase-buttons">
                    <a href="https://paypal.me/BilzXd1/20USD" target="_blank" rel="noopener" class="btn-purchase btn-usd" data-role="vip" data-price="20">Pay $USD</a>
                    <a href="https://paypal.me/BilzXd1/16.50EUR" target="_blank" rel="noopener" class="btn-purchase btn-eur" data-role="vip" data-price-eur="16.50">Pay ‚Ç¨EUR</a>
                    <a href="https://paypal.me/BilzXd1/16.00GBP" target="_blank" rel="noopener" class="btn-purchase btn-gbp" data-role="vip" data-price-gbp="16.00">Pay ¬£GBP</a>
                    <a href="https://paypal.me/BilzXd1/27.00AUD" target="_blank" rel="noopener" class="btn-purchase btn-aud" data-role="vip" data-price-aud="27.00">Pay A$AUD</a>
                    <a href="https://paypal.me/BilzXd1/27.00SGD" target="_blank" rel="noopener" class="btn-purchase btn-sgd" data-role="vip" data-price-sgd="27.00">Pay S$SGD</a>
                    <a href="https://paypal.me/BilzXd1/27.00CAD" target="_blank" rel="noopener" class="btn-purchase btn-cad" data-role="vip" data-price-cad="27.00">Pay C$CAD</a>
                    <a href="https://paypal.me/BilzXd1/300000IDR" target="_blank" rel="noopener" class="btn-idr btn-purchase" data-role="vip" data-price-idr="300000">Bayar Rp IDR</a>
                </div>
            </div>
            
            <div class="shop-role-card">
                <div>
                    <h3>‚ú® Supporter Role</h3>
                    <p class="price" data-usd="10" data-idr="150000" data-eur="9.00" data-gbp="8.00" data-aud="13.50" data-sgd="13.50" data-cad="13.50">
                        $10.00 <small>USD</small>
                        <span class="currency-display">
                            ~ ¬£8.00 <small>GBP</small> | ~ Rp 150.000 <small>IDR</small> | ~ S$13.50 <small>SGD</small><br>
                            ~ ‚Ç¨9.00 <small>EUR</small> | ~ A$13.50 <small>AUD</small> | ~ C$13.50 <small>CAD</small>
                        </span>
                    </p>
                    <ul id="supporter_commands"></ul>
                </div>
                <div class="purchase-buttons">
                    <a href="https://paypal.me/BilzXd1/10USD" target="_blank" rel="noopener" class="btn-purchase btn-usd" data-role="supporter" data-price="10">Pay $USD</a>
                    <a href="https://paypal.me/BilzXd1/9.00EUR" target="_blank" rel="noopener" class="btn-purchase btn-eur" data-role="supporter" data-price-eur="9.00">Pay ‚Ç¨EUR</a>
                    <a href="https://paypal.me/BilzXd1/8.00GBP" target="_blank" rel="noopener" class="btn-purchase btn-gbp" data-role="supporter" data-price-gbp="8.00">Pay ¬£GBP</a>
                    <a href="https://paypal.me/BilzXd1/13.50AUD" target="_blank" rel="noopener" class="btn-purchase btn-aud" data-role="supporter" data-price-aud="13.50">Pay A$AUD</a>
                    <a href="https://paypal.me/BilzXd1/13.50SGD" target="_blank" rel="noopener" class="btn-purchase btn-sgd" data-role="supporter" data-price-sgd="13.50">Pay S$SGD</a>
                    <a href="https://paypal.me/BilzXd1/13.50CAD" target="_blank" rel="noopener" class="btn-purchase btn-cad" data-role="supporter" data-price-cad="13.50">Pay C$CAD</a>
                    <a href="https://paypal.me/BilzXd1/150000IDR" target="_blank" rel="noopener" class="btn-idr btn-purchase" data-role="supporter" data-price-idr="150000">Bayar Rp IDR</a>
                </div>
            </div>
        </div>

    </section>

    <section class="discord-section" role="complementary" aria-label="Discord Community">
      <img src="discord.jpeg" alt="Discord Logo">
      <h3>Join Our Community</h3>
      <p>Connect with others and get support in our official Discord server.</p>
      <a id="discordLink" href="https://discord.gg/smgS6sq83y" target="_blank" rel="noopener" class="btn-purchase" style="background:#5865f2;margin-top:16px;">Join Growfax Discord</a>
    </section>

  </main>

  <footer>
    <p>&copy; <span id="currentYear"></span> Growfax Official. All Rights Reserved.</p>
  </footer>

  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal file-modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 id="modalTitle">File info</h3>
      <h4 id="modalFilename" style="font-size:1rem;margin-bottom:12px">Filename: </h4>
      <p id="modalDesc" style="opacity:0.8;margin-bottom:16px;">Details before download</p>
      
      <div id="fileInfoArea" style="text-align:left;border:1px solid var(--border-color);padding:10px;border-radius:8px;background:var(--glass);margin-bottom:16px;">
          <p id="modalVersion" style="margin:0 0 4px;font-size:0.9rem;font-weight:600;"></p>
          <p id="modalUpdated" style="margin:0 0 4px;font-size:0.9rem;font-weight:600;"></p>
          <p id="modalChangelog" style="margin:0;font-size:0.9rem;font-weight:600;"><span class="changelog">Changelog</span>: </p>
      </div>

      <div class="actions" style="display:flex;justify-content:flex-end;gap:8px">
        <button class="btn secondary" id="modalCancel">Cancel</button>
        <a href="#" class="btn primary" id="modalConfirm" data-action="download" download>Download</a>
      </div>
    </div>
  </div>

  <div id="welcomeBackdrop" class="modal-backdrop welcome-backdrop" aria-hidden="true">
    <div class="modal welcome" role="dialog" aria-modal="true" aria-labelledby="welcomeTitle">
      <h2 id="welcomeTitle">Welcome & Preferences</h2>
      <p>Please choose your preferred settings for the best experience.</p>
      
      <div style="text-align: left; margin-top: 20px;">
        <label style="display: block; font-weight: bold; margin-bottom: 8px;">Language:</label>
        <select id="welcomeLangSelect" class="lang-select" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text);">
          <option value="en">üá¨üáß English</option>
          <option value="id">üáÆüá© Bahasa</option>
        </select>
      </div>

      <div style="text-align: left; margin-top: 15px;">
        <label style="display: block; font-weight: bold; margin-bottom: 8px;">Theme:</label>
        <div class="theme-options">
          <label><input type="radio" name="welcomeTheme" value="light" checked> Light</label>
          <label><input type="radio" name="welcomeTheme" value="dark"> Dark</label>
        </div>
      </div>

      <div class="actions" style="display:flex;justify-content:flex-end;gap:8px;margin-top:14px">
        <button class="btn secondary" id="welcomeSkip">Skip</button>
        <button class="btn primary" id="welcomeSave">Save & Continue</button>
      </div>
    </div>
  </div>

  <div id="adminBackdrop" class="modal-backdrop admin-backdrop" aria-hidden="true">
    <div class="modal admin-modal" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
      <h2 id="adminTitle">üîë Admin Area</h2>
      <button id="closeAdmin" class="btn secondary" style="position:absolute;top:10px;right:10px;font-size:0.8rem;padding:6px 10px;z-index:10;">Tutup Area Admin</button>
      
      <div id="adminLogin" style="text-align: center; padding: 20px;">
        <p id="adminLoginPrompt">Enter the Admin Token to proceed:</p>
        <input type="password" id="adminTokenInput" placeholder="Token" style="padding: 10px; width: 80%; max-width: 300px; border-radius: 8px; border: 1px solid var(--border-color);
 background: var(--card-bg); color: var(--text);">
        <button class="btn primary" id="adminTokenSubmit" style="margin-top: 10px; width: 80%; max-width: 300px;">Submit</button>
      </div>

      <div id="adminContent" style="display: none;
 padding-top: 10px;">
        
        <div style="margin-top: 15px; padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
          <h4 style="margin: 0 0 10px;
 color: var(--accent);">Server Status</h4>
          <p>Status: <strong id="serverStatusDisplay" style="color:var(--success);">Online</strong> <span id="status-indicator" style="display: inline-block; width: 8px; height: 8px; border-radius: 50%; background: var(--success); margin-left: 4px;"></span></p>
          <button class="btn secondary" id="toggleServerStatus" style="margin-top: 10px;">Toggle Status (Simulate)</button>
        </div>

        <div style="margin-top: 15px; padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
          <h4 style="margin: 0 0 10px;
 color: var(--accent);">Analytical Dashboard</h4>
          <p>Total Downloads: <strong id="totalDownloads">0</strong></p>
          <p>Recent Activities:</p>
          <ul id="recentActivities" style="list-style-type: none; padding: 0; margin-top: 8px; max-height: 150px; overflow-y: auto; font-size: 0.9rem;"></ul>
          <button class="btn secondary" id="refreshAnalytics" style="margin-top: 10px;">Refresh Data</button>
        </div>

        <div style="margin-top: 15px; padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
          <h4 style="margin: 0 0 10px;
 color: var(--accent);">News & Updates</h4>
          <textarea id="newsUpdateTextarea" placeholder="Enter server news..." style="width: 100%;
 padding: 10px; border-radius: 6px; font-family: var(--mono); font-size: 0.95rem;"></textarea>
          <button class="btn primary" id="saveNewsUpdate" style="margin-top: 10px;
 width: 100%;">Save News</button>
        </div>

        <div style="margin-top: 15px; padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
          <h4 style="margin: 0 0 10px;
 color: var(--accent);">SEO Management</h4>
          <label style="display: block; text-align: left; font-size: 0.9rem;
 color: var(--muted);" for="seoTitleInput">Page Title (Hanya Title Tag HTML)</label>
          <input type="text" id="seoTitleInput" placeholder="Growfax Official - Private Growtopia Server & Downloads" style="width: 100%;
 padding: 8px; border-radius: 6px; margin-bottom: 10px; font-family: var(--mono); font-size: 0.9rem;">
          
          <label style="display: block; text-align: left; margin-top: 10px; font-size: 0.9rem;
 color: var(--muted);" for="seoDescTextarea">Meta Description</label>
          <textarea id="seoDescTextarea" placeholder="Situs resmi Growfax, private server Growtopia. Unduh file host terbaru untuk Android, Windows, dan iOS. Mainkan Growtopia dengan fitur eksklusif dan komunitas aktif!" style="width: 100%;
 padding: 8px; border-radius: 6px; margin-bottom: 10px; font-family: var(--mono); font-size: 0.95rem;"></textarea>
          
          <label style="display: block; text-align: left; margin-top: 10px; font-size: 0.9rem;
 color: var(--muted);" for="seoKeywordsInput">Meta Keywords (Comma-separated)</label>
          <input type="text" id="seoKeywordsInput" placeholder="Growfax, Growtopia Private Server, Growtopia PS, Download Growfax, Host Growfax, Growfax Android, Growfax Windows" style="width: 100%;
 padding: 8px; border-radius: 6px; margin-bottom: 10px; font-family: var(--mono); font-size: 0.9rem;">
          <button class="btn primary" id="saveSeoMeta" style="margin-top: 10px;
 width: 100%;">Update SEO Meta</button>
        </div>
      </div>
    </div>
  </div>

  <a id="floatingChat" class="floating-chat" href="https://discord.gg/smgS6sq83y" target="_blank" rel="noopener" title="Open Discord">
    <img src="discord.jpeg" alt="Discord">
  </a>

  <div id="toast" class="toast" role="alert" aria-live="assertive"></div>

<script>
    // --- File references (from Admin Area) ---
    const ADMIN_TOKEN = '1234'; // Simulated token
    const adminBackdrop = document.getElementById('adminBackdrop');
    const adminTitle = document.getElementById('adminTitle');
    const adminLogin = document.getElementById('adminLogin');
    const adminLoginPrompt = document.getElementById('adminLoginPrompt');
    const adminTokenInput = document.getElementById('adminTokenInput');
    const adminTokenSubmit = document.getElementById('adminTokenSubmit');
    const adminContent = document.getElementById('adminContent');
    const closeAdmin = document.getElementById('closeAdmin');

    const toggleServerStatus = document.getElementById('toggleServerStatus');
    const serverStatusDisplay = document.getElementById('serverStatusDisplay');
    const statusIndicator = document.getElementById('status-indicator');
    const newsUpdateTextarea = document.getElementById('newsUpdateTextarea');
    const saveNewsUpdate = document.getElementById('saveNewsUpdate');
    const totalDownloads = document.getElementById('totalDownloads');
    const recentActivities = document.getElementById('recentActivities');
    const refreshAnalytics = document.getElementById('refreshAnalytics');
    const seoTitleInput = document.getElementById('seoTitleInput');
    const seoDescTextarea = document.getElementById('seoDescTextarea');
    const seoKeywordsInput = document.getElementById('seoKeywordsInput');
    const saveSeoMeta = document.getElementById('saveSeoMeta');

    // --- Modal references ---
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalTitle = document.getElementById('modalTitle');
    const modalFilename = document.getElementById('modalFilename');
    const modalDesc = document.getElementById('modalDesc');
    const modalVersion = document.getElementById('modalVersion');
    const modalUpdated = document.getElementById('modalUpdated');
    const modalChangelog = document.getElementById('modalChangelog');
    const modalCancel = document.getElementById('modalCancel');
    const modalConfirm = document.getElementById('modalConfirm');

    // --- Welcome references ---
    const welcomeBackdrop = document.getElementById('welcomeBackdrop');
    const openWelcome = document.getElementById('openWelcome');
    const welcomeLangSelect = document.getElementById('welcomeLangSelect');
    const welcomeSave = document.getElementById('welcomeSave');
    const welcomeSkip = document.getElementById('welcomeSkip');

    // --- Theme references ---
    const themeToggle = document.getElementById('themeToggle');
    const themeOptions = document.querySelectorAll('input[name="welcomeTheme"]');

    // --- Language references ---
    const langSelect = document.getElementById('langSelect');
    const navDownloads = document.getElementById('navDownloads');
    const navShop = document.getElementById('navShop');
    const reportBugLink = document.getElementById('reportBugLink');
    const openAdmin = document.getElementById('openAdmin');
    const welcomeTitle = document.getElementById('welcomeTitle');

    // --- Initial setup ---
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    // ===========================
    // Local Storage / Persistance Handlers
    // ===========================
    function getTheme() {
        return localStorage.getItem('theme') || 'light';
    }
    function setTheme(theme) {
        document.body.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        updateThemeToggle(theme);
        updateWelcomeThemeRadios(theme);
    }
    function updateThemeToggle(theme) {
        const isDark = theme === 'dark';
        themeToggle.setAttribute('aria-pressed', isDark);
        themeToggle.innerHTML = isDark ? 'üåô Dark' : 'üåû Light';
        // Update h1 text-shadow
        document.querySelector('h1').style.textShadow = isDark ? 'var(--text-shadow-dark)' : 'var(--text-shadow-light)';
    }
    function updateWelcomeThemeRadios(theme) {
        themeOptions.forEach(radio => {
            radio.checked = radio.value === theme;
        });
    }

    function loadNewsUpdate() {
        const savedNews = localStorage.getItem('server_news');
        newsUpdateTextarea.value = savedNews || 'Welcome to Growfax! The server is currently Online.';
    }
    function saveNewsUpdateHandler() {
        localStorage.setItem('server_news', newsUpdateTextarea.value);
        showToast((langSelect.value === 'id') ? (translations.id['News updated successfully.'] || 'Berita berhasil diperbarui.') : 'News updated successfully.', 2500);
    }
    
    function loadSeoSettings() {
        const savedTitle = localStorage.getItem('seo_title');
        const savedDesc = localStorage.getItem('seo_desc');
        const savedKeywords = localStorage.getItem('seo_keywords');

        // Apply to Admin Area inputs
        seoTitleInput.value = savedTitle || document.querySelector('title').textContent;
        seoDescTextarea.value = savedDesc || document.querySelector('meta[name="description"]').content;
        seoKeywordsInput.value = savedKeywords || document.querySelector('meta[name="keywords"]').content;

        // Apply to HTML head
        if (savedTitle) document.querySelector('title').textContent = savedTitle;
        if (savedDesc) document.querySelector('meta[name="description"]').content = savedDesc;
        if (savedKeywords) document.querySelector('meta[name="keywords"]').content = savedKeywords;
    }
    function saveSeoSettings(title, desc, keywords) {
        localStorage.setItem('seo_title', title);
        localStorage.setItem('seo_desc', desc);
        localStorage.setItem('seo_keywords', keywords);
    }

    /* ===========================
       File Metadata (Version, Update Date, Changelog, Copy Text) - Managed via Admin Area / Local Storage.
       Default values below. 
       - Note: copytext must use \n for newlines in JS strings.
       =========================== */
    const FILE_META = {
        virtualhost: {
            version: "v4.2.1",
            updated: "2025-10-31",
            changelog: "Optimized connection stability.",
            copytext: "103.27.206.183 growtopia1.com\n103.27.206.183 growtopia2.com\n103.27.206.183 www.growtopia1.com\n103.27.206.183 www.growtopia2.com",
        },
        patched: {
            version: "v1.0.0",
            updated: "2025-10-31",
            changelog: "First release.",
            copytext: "echo @off\ncolor 0a\ntitle Growfax Client Patcher\n\necho Applying hosts patch...\n\nREM Check if script is running as admin\n>nul 2>&1 \"%SYSTEMROOT%\\system32\\cacls.exe\" \"%SYSTEMROOT%\\system32\\config\\system\"\n\nif %errorlevel% neq 0 (\n    echo Requesting administrative privileges...\n    goto LAAUNCH\n) else (\n    goto PATCH_HOSTS\n)\n\n:LAAUNCH\n    set \"args=%~dp0client_patch.bat\"\n    call :RunAsAdmin \"%args:client_patch.bat=%hosts.txt\"\n    goto END\n\n:PATCH_HOSTS\n    REM Hosts file location\n    set \"HOSTS_FILE=%SYSTEMROOT%\\System32\\drivers\\etc\\hosts\"\n\n    REM Growtopia hosts entries to add\n    set \"HOST_ENTRY_1=103.27.206.183 growtopia1.com\"\n    set \"HOST_ENTRY_2=103.27.206.183 growtopia2.com\"\n    set \"HOST_ENTRY_3=103.27.206.183 www.growtopia1.com\"\n    set \"HOST_ENTRY_4=103.27.206.183 www.growtopia2.com\"\n\n    echo.\n    echo Backing up original hosts file...\n    copy \"%HOSTS_FILE%\" \"%HOSTS_FILE%.bak\" /Y\n\n    echo.\n    echo Adding Growfax hosts entries...\n    \n    REM Check if entries exist before adding to prevent duplicates\n    findstr /C:\"%HOST_ENTRY_1%\" \"%HOSTS_FILE%\" >nul || echo %HOST_ENTRY_1% >>\"%HOSTS_FILE%\"\n    findstr /C:\"%HOST_ENTRY_2%\" \"%HOSTS_FILE%\" >nul || echo %HOST_ENTRY_2% >>\"%HOSTS_FILE%\"\n    findstr /C:\"%HOST_ENTRY_3%\" \"%HOSTS_FILE%\" >nul || echo %HOST_ENTRY_3% >>\"%HOSTS_FILE%\"\n    findstr /C:\"%HOST_ENTRY_4%\" \"%HOSTS_FILE%\" >nul || echo %HOST_ENTRY_4% >>\"%HOSTS_FILE%\"\n\n    echo.\n    echo Hosts patch complete. You can now run Growtopia.\n    goto END\n\n:RunAsAdmin\n    powershell -Command \"Start-Process '%SystemRoot%\\System32\\cmd.exe' -ArgumentList '/c %~1' -Verb RunAs\"\n    goto :eof\n\n:END\n    echo.\n    pause\n",
        },
        ios: { // <<< UPDATED: iOS Config
            version: "v1.1.0",
            updated: "2025-11-03", // Updated date
            changelog: "New Host Configuration.",
            copytext: "[General]\nbypass-system = true\n\n[Rule]\nFINAL,DIRECT\n\n[Host]\ngrowtopia1.com = 91.134.85.13\ngrowtopia2.com = 91.134.85.13\nwww.growtopia1.com = 91.134.85.13\nwww.growtopia2.com = 91.134.85.13", // <<< NEW iOS CONTENT
        },
        powertunnel: { // <<< UPDATED: PowerTunnel Host
            version: "v2.0.0",
            updated: "2025-11-03", // Updated date
            changelog: "New Host IP added.",
            copytext: "91.134.85.13 growtopia1.com\n91.134.85.13 growtopia2.com\n91.134.85.13 www.growtopia1.com\n91.134.85.13 www.growtopia2.com", // <<< NEW PowerTunnel CONTENT
        },
    };

    /* ===========================
       Download / Modal Handlers
       =========================== */
    function showFileModal(key) {
        const lang = langSelect.value;
        const meta = FILE_META[key];
        
        if (!meta) {
            showToast(lang === 'id' ? (translations.id['Download failed: file not found.'] || 'Unduhan gagal: berkas tidak ditemukan.') : 'Download failed: file not found.', 3000);
            return;
        }

        const anchor = document.querySelector(`a[data-filekey="${key}"]`);
        
        // Show modal
        modalBackdrop.style.display = 'flex';
        
        // Populate modal with details
        modalFilename.textContent = `${(lang === 'id') ? (translations.id['Filename'] || 'Nama berkas') + ': ' : 'Filename: '}${anchor.dataset.filename}`;
        modalVersion.textContent = `${(lang === 'id') ? (translations.id['Version'] || 'Versi') + ': ' : 'Version: '}${meta.version}`;
        modalUpdated.textContent = `${(lang === 'id') ? (translations.id['Updated'] || 'Diperbarui') + ': ' : 'Updated: '}${meta.updated}`;
        modalChangelog.innerHTML = `<span class="changelog">${(lang === 'id') ? (translations.id['Changelog'] || 'Catatan pembaruan') : 'Changelog'}</span>: ${meta.changelog}`;
        
        // Check if it's a direct download (href available)
        if (anchor.download !== undefined) {
            // Direct download files (Android, Windows)
            modalConfirm.href = anchor.href;
            modalConfirm.dataset.action = 'download';
            modalConfirm.textContent = lang === 'id' ? (translations.id['Download'] || 'Unduh') : 'Download';
            modalTitle.textContent = lang === 'id' ? (translations.id['File info'] || 'Info berkas') : 'File info';
            modalDesc.textContent = lang === 'id' ? (translations.id['Details before download'] || 'Detail sebelum mengunduh') : 'Details before download';

        } else {
            // Config files (iOS, PowerTunnel) - requires manual copy
            // Auto-copy to clipboard
            const copyText = lang === 'id' ? (translations.id['Config copied!'] || 'Konfigurasi disalin!') : 'Config copied!';
            // Teks tersedia, salin ke clipboard
            navigator.clipboard.writeText(meta.copytext).then(() => {
                showToast(copyText, 2500);
            }).catch(err => {
                console.error('Could not copy text: ', err);
                // Fallback: show modal with copy button
                showToast('Failed to copy. Showing modal.', 3000);
            });
            
            // Update modal for confirmation/info, change button to 'Copy Config'
            modalTitle.textContent = lang === 'id' ? (translations.id['File info'] || 'Info berkas') : 'File info';
            modalDesc.textContent = lang === 'id' ? (translations.id['Details before download'] || 'Detail sebelum mengunduh') : 'Details before download';
            modalConfirm.textContent = lang === 'id' ? (translations.id['Copy Config'] || 'Copy Config') : 'Copy Config';
            modalConfirm.dataset.action = 'copy'; // Custom attribute to check action
            modalConfirm.href = '#'; // Remove download href
        }
    }

    // Modal action confirmation (for manual re-copy only)
    modalConfirm.addEventListener('click', (e) => {
        const action = modalConfirm.dataset.action;
        const lang = langSelect.value;
        
        // Handle download button click (default)
        if (action === 'download') {
            const filename = modalFilename.textContent.split(': ')[1];
            showToast(`${lang === 'id' ? (translations.id['Download initiated: '] || 'Unduhan dimulai: ') : 'Download initiated: '}${filename}`, 3500);
            modalBackdrop.style.display = 'none';
        } 
        
        // Handle copy button click (manual re-copy)
        if (action === 'copy') {
            // Logic is already handled in the anchor click event (auto-copy)
            // This button in the modal is just a "confirm" / "info" modal
            // We can add a re-copy action here for robustness if the first one failed
            const filenameFromModal = modalFilename.textContent.split(': ')[1];
            const key = document.querySelector(`a[data-filename="${filenameFromModal}"]`)?.dataset.filekey;
            if (key && FILE_META[key] && FILE_META[key].copytext) {
                navigator.clipboard.writeText(FILE_META[key].copytext).then(() => {
                    const copyText = lang === 'id' ? (translations.id['Config copied!'] || 'Konfigurasi disalin!') : 'Config copied!';
                    showToast(copyText, 2500);
                    modalBackdrop.style.display = 'none'; // Close modal on successful re-copy
                });
            }
        }
    });

    // Close modal
    modalCancel.addEventListener('click', () => {
        modalBackdrop.style.display = 'none';
    });


    // Event listener for platform buttons (open modal/download)
    document.querySelectorAll('.platform-buttons a').forEach(anchor => {
        anchor.addEventListener('click', (e) => {
            const filekey = anchor.dataset.filekey;
            if (anchor.download === undefined) {
                // If no 'download' attribute, it's a config file (iOS/PowerTunnel)
                e.preventDefault(); 
                showFileModal(filekey);
            } else {
                // It's a direct download
                const lang = langSelect.value;
                showToast(`${lang === 'id' ? (translations.id['Download initiated: '] || 'Unduhan dimulai: ') : 'Download initiated: '}${anchor.dataset.filename}`, 3500);
            }
        });
    });

    // ===========================
    // Shop Role Commands Data
    // ===========================
    const commandData = {
        admin_commands: [ // NEW ROLE
            { strong: "Can sell role", span: "Benefit for selling roles to players." },
            { strong: "Can sell title", span: "Benefit for selling custom titles to players." },
            { strong: "Can sell All item with Real Trade", span: "Allows selling all in-game items via Real Trade system." }
        ],
        vip_commands: [
            { strong: "Access to /warp command", span: "Teleport to any world directly." },
            { strong: "Access to /ghost command", span: "Become invisible to other players." },
            { strong: "Exclusive VIP items", span: "Access unique items only available to VIPs." }
        ],
        supporter_commands: [
            { strong: "Exclusive Supporter title", span: "Display a special title in-game." },
            { strong: "Priority support in Discord", span: "Faster response times from staff." },
            { strong: "Access to /news", span: "View latest server news instantly." }
        ]
    };

    // Update command list translations in the Shop section
    function updateCommandTranslations(lang) {
        for (const id in commandData) {
            const ul = document.getElementById(id);
            if (ul) {
                ul.innerHTML = ''; // Clear existing content
                commandData[id].forEach(item => {
                    const li = document.createElement('li');
                    
                    // Translate the text content of the strong/span elements
                    const strongText = lang === 'en' ? item.strong : (translations[lang]?.[item.strong] || item.strong);
                    li.innerHTML = `<strong>${strongText}</strong>`;
                    
                    if (item.span) {
                        const spanText = lang === 'en' ? item.span : (translations[lang]?.[item.span] || item.span);
                        li.innerHTML += `<span>${spanText}</span>`;
                    }
                    ul.appendChild(li);
                });
            }
        }
    }

    // Update dynamic texts in the Admin Area that aren't covered by data-original
    function updateAdminDynamicTexts(lang) {
        // Update login prompt based on current language
        adminLoginPrompt.textContent = lang === 'id' ? (translations.id["Enter the Admin Token to proceed:"] || "Masukkan Token Admin untuk melanjutkan:") : "Enter the Admin Token to proceed:";
    }

    // ===========================
    // Translation Data
    // ===========================
    const translations = {
        id: {
            "Downloads": "Unduhan",
            "Shop": "Toko",
            "Report Bug": "Laporkan Bug",
            "Welcome & Preferences": "Selamat Datang & Preferensi",
            "Admin Area": "Area Admin",
            "Open Discord": "Buka Discord",
            "Join Our Community": "Bergabunglah dengan Komunitas Kami",
            "Connect with others and get support in our official Discord server.": "Terhubung dengan orang lain dan dapatkan bantuan di server Discord resmi kami.",
            "Join Growfax Discord": "Gabung Discord Growfax",
            "üì• Downloads": "üì• Unduhan",
            "üõí Shop": "üõí Toko",
            "üêû Report Bug": "üêû Laporkan Bug",
            "üîë Admin": "üîë Admin",
            "Welcome to Growfax": "Selamat Datang di Growfax",
            "Private Growtopia Server": "Server Growtopia Private",
            "Loading time...": "Memuat waktu...",
            "Essential File Downloads": "Unduhan File Penting",
            "Play on Android": "Main di Android",
            "Play on Windows": "Main di Windows",
            "Play on iOS": "Main di iOS",
            "Play via PowerTunnel": "Main via PowerTunnel",
            "Server Time (AEDT):": "Waktu Server (AEDT):", // <-- MODIFIED: New Timezone label
            "Version": "Versi",
            "Updated": "Diperbarui",
            "Changelog": "Catatan pembaruan",
            "Filename": "Nama berkas",
            "File info": "Info berkas",
            "Details before download": "Detail sebelum mengunduh",
            "Cancel": "Batal",
            "Download": "Unduh",
            "Download failed: file not found.": "Unduhan gagal: berkas tidak ditemukan.",
            "Config copied!": "Konfigurasi disalin!",
            "Copy Config": "Salin Konfigurasi",
            "Toggle theme": "Ganti tema",
            "Light": "üåû Terang",
            "Dark": "üåô Gelap",
            "Please choose your preferred settings for the best experience.": "Silakan pilih pengaturan pilihan Anda untuk pengalaman terbaik.",
            "Language:": "Bahasa:",
            "Theme:": "Tema:",
            "Skip": "Lewati",
            "Save & Continue": "Simpan & Lanjutkan",
            "Tutup Area Admin": "Tutup Area Admin",
            "Enter the Admin Token to proceed:": "Masukkan Token Admin untuk melanjutkan:",
            "Submit": "Kirim",
            "Server Status": "Status Server",
            "Online": "Online",
            "Offline": "Offline",
            "Toggle Status (Simulate)": "Ubah Status (Simulasi)",
            "Server Status changed.": "Status Server diubah.",
            "Analytical Dashboard": "Dasbor Analitik",
            "Total Downloads:": "Total Unduhan:",
            "Recent Activities:": "Aktivitas Terbaru:",
            "Refresh Data": "Segarkan Data",
            "News & Updates": "Berita & Pembaruan",
            "Save News": "Simpan Berita",
            "News updated successfully.": "Berita berhasil diperbarui.",
            "SEO Management": "Manajemen SEO",
            "Page Title (Hanya Title Tag HTML)": "Judul Halaman (Hanya Tag Title HTML)",
            "Meta Description": "Meta Deskripsi",
            "Meta Keywords (Comma-separated)": "Kata Kunci Meta (Dipisahkan Koma)",
            "Update SEO Meta": "Perbarui Meta SEO",
            "SEO Meta updated successfully.": "Meta SEO berhasil diperbarui.",
            "Close Admin Area": "Tutup Area Admin",
            "Download initiated: ": "Unduhan dimulai: ",
            "Admin Login success": "Login Admin berhasil",
            // NEW Admin Role Translations
            "üëë Admin Server Role": "üëë Peran Admin Server",
            "Can sell role": "Bisa menjual peran",
            "Benefit for selling roles to players.": "Keuntungan dari menjual peran kepada pemain.",
            "Can sell title": "Bisa menjual gelar",
            "Benefit for selling custom titles to players.": "Keuntungan dari menjual gelar kustom kepada pemain.",
            "Can sell All item with Real Trade": "Bisa menjual semua item dengan Real Trade",
            "Allows selling all in-game items via Real Trade system.": "Memungkinkan menjual semua item dalam game melalui sistem Real Trade.",
            " ago": " yang lalu",
            "minute": ["menit"],
            "hour": ["jam"],
            "day": ["hari"],
            "month": ["bulan"],
            "year": ["tahun"],
            "now": "baru saja",
            "Sold VIP Role": "Menjual Peran VIP",
            "Downloaded Patched Client": "Mengunduh Klien Patched",
            "Updated News": "Memperbarui Berita",
            "Updated SEO": "Memperbarui SEO",
            "Tutup": "Tutup",
            "Save": "Simpan",
            "üåü VIP Server Role": "üåü Peran VIP Server",
            "Access to /warp command": "Akses ke perintah /warp",
            "Teleport to any world directly.": "Teleportasi ke dunia mana pun secara langsung.",
            "Access to /ghost command": "Akses ke perintah /ghost",
            "Become invisible to other players.": "Menjadi tidak terlihat oleh pemain lain.",
            "Exclusive VIP items": "Item VIP Eksklusif",
            "Access unique items only available to VIPs.": "Akses item unik yang hanya tersedia untuk VIP.",
            "‚ú® Supporter Role": "‚ú® Peran Supporter",
            "Exclusive Supporter title": "Gelar Supporter Eksklusif",
            "Display a special title in-game.": "Menampilkan gelar spesial dalam game.",
            "Priority support in Discord": "Dukungan prioritas di Discord",
            "Faster response times from staff.": "Waktu respons yang lebih cepat dari staf.",
            "Access to /news": "Akses ke /news",
            "View latest server news instantly.": "Melihat berita server terbaru secara instan."
        }
    };

    // ===========================
    // Core Functions (Toast, Time, Translation)
    // ===========================
    function showToast(message, duration = 3000) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.style.opacity = '1';
        toast.style.transform = 'translateX(-50%) translateY(0)';
        setTimeout(() => {
            toast.style.opacity = '0';
            toast.style.transform = 'translateX(-50%) translateY(20px)';
        }, duration);
    }
    
    function updateTime() {
        // Growtopia servers generally run on AEDT/AEST. Current time of this code update is 2025-11-03 15:19:30 WIB. Assuming AEDT (+11)
        const now = new Date();
        const serverTime = new Date(now.toLocaleString("en-US", {timeZone: "Australia/Sydney"}));
        
        const lang = langSelect.value;
        const timeLabel = lang === 'id' ? (translations.id['Server Time (AEDT):'] || 'Waktu Server (AEDT):') : 'Server Time (AEDT):';

        const hours = serverTime.getHours().toString().padStart(2, '0');
        const minutes = serverTime.getMinutes().toString().padStart(2, '0');
        const seconds = serverTime.getSeconds().toString().padStart(2, '0');
        
        document.getElementById('timeDisplay').textContent = `${timeLabel} ${hours}:${minutes}:${seconds}`;
    }

    function timeAgo(date, lang) {
        const seconds = Math.floor((new Date() - new Date(date)) / 1000);
        let interval = Math.floor(seconds / 31536000);

        if (interval >= 1) {
            return interval + ' ' + (lang === 'id' ? translations.id['year'][0] : 'year') + (interval > 1 ? 's' : '') + (lang === 'id' ? translations.id[' ago'] : ' ago');
        }
        interval = Math.floor(seconds / 2592000);
        if (interval >= 1) {
            return interval + ' ' + (lang === 'id' ? translations.id['month'][0] : 'month') + (interval > 1 ? 's' : '') + (lang === 'id' ? translations.id[' ago'] : ' ago');
        }
        interval = Math.floor(seconds / 86400);
        if (interval >= 1) {
            return interval + ' ' + (lang === 'id' ? translations.id['day'][0] : 'day') + (interval > 1 ? 's' : '') + (lang === 'id' ? translations.id[' ago'] : ' ago');
        }
        interval = Math.floor(seconds / 3600);
        if (interval >= 1) {
            return interval + ' ' + (lang === 'id' ? translations.id['hour'][0] : 'hour') + (interval > 1 ? 's' : '') + (lang === 'id' ? translations.id[' ago'] : ' ago');
        }
        interval = Math.floor(seconds / 60);
        if (interval >= 1) {
            return interval + ' ' + (lang === 'id' ? translations.id['minute'][0] : 'minute') + (interval > 1 ? 's' : '') + (lang === 'id' ? translations.id[' ago'] : ' ago');
        }
        return lang === 'id' ? translations.id['now'] : 'just now';
    }

    function applyTranslations(lang) {
        const transitionDuration = 200; // 200 ms
        const elementsToTranslate = document.querySelectorAll('[data-original], #modalCancel, #modalConfirm, #welcomeSave, #welcomeSkip, #discordLink, #reportBugLink, #adminTokenSubmit, #closeAdmin, #toggleServerStatus, #saveNewsUpdate, #refreshAnalytics, #saveSeoMeta');

        // 1. Fade out (Opacity 0)
        elementsToTranslate.forEach(el => {
            // Only target elements currently visible
            if (el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0) {
                el.style.opacity = '0';
            }
        });
        document.body.style.opacity = '0.01'; // Apply to the whole body
        
        // 2. Wait for fade out to complete, then update and fade in
        setTimeout(() => {
            // Update static elements first (if they haven't been touched yet)
            document.querySelectorAll('[data-original]').forEach(el => {
                const originalText = el.dataset.original || el.textContent.trim();
                if (!el.dataset.original) {
                    el.dataset.original = originalText;
                }
                el.textContent = translations[lang]?.[originalText] || originalText;
            });
            
            // Update specific button/link texts
            const updateText = (id, key) => {
                const el = document.getElementById(id);
                if (el) {
                    const originalText = el.dataset.original || el.textContent.trim();
                    if (!el.dataset.original) el.dataset.original = originalText;
                    el.textContent = translations[lang]?.[key] || key;
                }
            };

            updateText('navDownloads', 'üì• Downloads');
            updateText('navShop', 'üõí Shop');
            updateText('reportBugLink', 'üêû Report Bug');
            updateText('openAdmin', 'üîë Admin');
            updateText('openWelcome', '‚öôÔ∏è');
            updateText('welcomeTitle', 'Welcome & Preferences');
            updateText('modalCancel', 'Cancel');
            updateText('welcomeSkip', 'Skip');
            updateText('welcomeSave', 'Save & Continue');
            updateText('discordLink', 'Join Growfax Discord');
            updateText('adminTokenSubmit', 'Submit');
            updateText('toggleServerStatus', 'Toggle Status (Simulate)');
            updateText('saveNewsUpdate', 'Save News');
            updateText('refreshAnalytics', 'Refresh Data');
            updateText('saveSeoMeta', 'Update SEO Meta');
            updateText('closeAdmin', 'Close Admin Area');
            
            // Update shop role commands
            updateCommandTranslations(lang);
            
            // Update welcome modal general text
            const welcomeText = document.querySelector('.welcome > p');
            if (welcomeText) {
                const original = 'Please choose your preferred settings for the best experience.';
                if (!welcomeText.dataset.original) welcomeText.dataset.original = original;
                welcomeText.textContent = translations[lang]?.[original] || original;
            }

            // Update time display label (called inside updateTime)
            updateTime();

            // Update dynamic texts in admin area
            updateAdminDynamicTexts(lang);
            
            // Update purchase button labels based on current language (e.g., changing 'Pay $USD' to 'Bayar $USD' if needed)
            document.querySelectorAll('.btn-purchase').forEach(btn => {
                const role = btn.dataset.role;
                const priceKey = Object.keys(btn.dataset).find(key => key.startsWith('price'));
                const originalText = btn.dataset.original || btn.textContent.trim();

                // Special handling for IDR button
                if (btn.classList.contains('btn-idr')) {
                    if (!btn.dataset.original) btn.dataset.original = 'Bayar Rp IDR';
                    btn.textContent = lang === 'id' ? 'Bayar Rp IDR' : `Pay Rp IDR`;
                } else {
                    if (!btn.dataset.original) btn.dataset.original = originalText;
                    const currency = originalText.split(' ')[1]; // e.g., $USD
                    btn.textContent = lang === 'id' ? `Bayar ${currency}` : originalText;
                }
            });

            // Update shop price small text
            document.querySelectorAll('.shop-role-card .price small').forEach(small => {
                const originalText = small.dataset.original || small.textContent.trim();
                if (!small.dataset.original) small.dataset.original = originalText;
                small.textContent = originalText; // No translation needed for currency codes like USD, GBP
            });
            
            // Update currency display
            document.querySelectorAll('.shop-role-card .currency-display').forEach(span => {
                const originalHtml = span.dataset.original || span.innerHTML.trim();
                if (!span.dataset.original) span.dataset.original = originalHtml;
                
                let newHtml = originalHtml;
                if (lang === 'id' && originalHtml.includes('USD')) {
                    // Simple replacement of the main currency symbols
                    newHtml = newHtml.replace('~ ¬£', '~ ¬£')
                                     .replace('~ Rp', '~ Rp')
                                     .replace('~ S$', '~ S$')
                                     .replace('~ ‚Ç¨', '~ ‚Ç¨')
                                     .replace('~ A$', '~ A$')
                                     .replace('~ C$', '~ C$')
                                     // Also replace the <small> tags content
                                     .replace('<small>GBP</small>', '<small>GBP</small>')
                                     .replace('<small>IDR</small>', '<small>IDR</small>')
                                     .replace('<small>SGD</small>', '<small>SGD</small>')
                                     .replace('<small>EUR</small>', '<small>EUR</small>')
                                     .replace('<small>AUD</small>', '<small>AUD</small>')
                                     .replace('<small>CAD</small>', '<small>CAD</small>');
                }
                span.innerHTML = newHtml;
            });
            
            // 3. Fade in (Opacity 1)
            elementsToTranslate.forEach(el => {
                el.style.opacity = '1';
            });
            document.body.style.opacity = '1';
        }, transitionDuration);
    }

    // ===========================
    // Admin Area Simulation Handlers
    // ===========================
    
    // Simple simulation of analytics data
    const analyticsData = {
        downloads: 1245,
        activities: [
            { type: 'Sold VIP Role', time: new Date(Date.now() - 30 * 60000).toISOString() }, // 30 mins ago
            { type: 'Downloaded Patched Client', time: new Date(Date.now() - 15 * 60000).toISOString() }, // 15 mins ago
            { type: 'Updated News', time: new Date(Date.now() - 7200000).toISOString() }, // 2 hours ago
            { type: 'Updated SEO', time: new Date(Date.now() - 10800000).toISOString() }, // 3 hours ago
            { type: 'Downloaded Patched Client', time: new Date(Date.now() - 86400000).toISOString() }, // 1 day ago
            { type: 'Downloaded Patched Client', time: new Date(Date.now() - 172800000).toISOString() }, // 2 days ago
        ]
    };

    function renderAnalyticsDashboard() {
        const lang = langSelect.value;
        // Update downloads count (simulated)
        totalDownloads.textContent = analyticsData.downloads.toLocaleString();

        // Render activities
        recentActivities.innerHTML = '';
        analyticsData.activities.forEach(activity => {
            const li = document.createElement('li');
            const activityText = lang === 'id' ? (translations.id[activity.type] || activity.type) : activity.type;
            const timeAgoText = timeAgo(activity.time, lang);
            li.textContent = `${activityText} - ${timeAgoText}`;
            recentActivities.appendChild(li);
        });
    }

    // Admin login handler
    adminTokenSubmit.addEventListener('click', () => {
        const lang = langSelect.value;
        if (adminTokenInput.value === ADMIN_TOKEN) {
            adminLogin.style.display = 'none';
            adminContent.style.display = 'block';
            showToast(lang === 'id' ? (translations.id['Admin Login success'] || 'Login Admin berhasil') : 'Admin Login success', 2500);
            loadNewsUpdate();
            loadSeoSettings();
            renderAnalyticsDashboard();
        } else {
            alert('Invalid Token!');
            adminTokenInput.value = '';
        }
    });

    // Toggle server status handler (simulated)
    toggleServerStatus.addEventListener('click', () => {
        const lang = langSelect.value;
        const isOnline = serverStatusDisplay.textContent === 'Online' || serverStatusDisplay.textContent === 'Online'; // Check against both languages
        
        if (isOnline) {
            serverStatusDisplay.textContent = lang === 'id' ? (translations.id['Offline'] || 'Offline') : 'Offline';
            serverStatusDisplay.style.color = 'var(--danger)';
            statusIndicator.style.background = 'var(--danger)';
        } else {
            serverStatusDisplay.textContent = lang === 'id' ? (translations.id['Online'] || 'Online') : 'Online';
            serverStatusDisplay.style.color = 'var(--success)';
            statusIndicator.style.background = 'var(--success)';
        }
        showToast(lang === 'id' ? (translations.id['Server Status changed.'] || 'Status Server diubah.') : 'Server Status changed.', 2500);
    });

    // Save news handler
    saveNewsUpdate.addEventListener('click', saveNewsUpdateHandler);

    // Refresh analytics handler (simulated)
    refreshAnalytics.addEventListener('click', () => {
        // Simulate new download activity
        analyticsData.downloads += Math.floor(Math.random() * 20) + 1;
        // Add a new random activity
        const types = ['Sold VIP Role', 'Downloaded Patched Client', 'Updated News', 'Updated SEO'];
        const newActivity = {
            type: types[Math.floor(Math.random() * types.length)],
            time: new Date().toISOString()
        };
        analyticsData.activities.unshift(newActivity); // Add to the start
        if (analyticsData.activities.length > 10) analyticsData.activities.pop(); // Keep list short
        
        renderAnalyticsDashboard();
        showToast(langSelect.value === 'id' ? (translations.id['Analytical Dashboard'] + ' diperbarui.') : 'Analytics Dashboard updated.', 2500);
    });

    // Save SEO Meta handler
    saveSeoMeta.addEventListener('click', () => {
        const title = seoTitleInput.value;
        const desc = seoDescTextarea.value;
        const keywords = seoKeywordsInput.value;
        
        saveSeoSettings(title, desc, keywords);
        loadSeoSettings(); // Re-apply to the HTML head

        showToast(langSelect.value === 'id' ? (translations.id['SEO Meta updated successfully.'] || 'Meta SEO berhasil diperbarui.') : 'SEO Meta updated successfully.', 2500);
    });

    // ===========================
    // Event Listeners (Main)
    // ===========================

    // Theme toggle (Header button)
    themeToggle.addEventListener('click', () => {
        const currentTheme = getTheme();
        setTheme(currentTheme === 'light' ? 'dark' : 'light');
    });

    // Language select (Header dropdown)
    langSelect.addEventListener('change', (e) => {
        const newLang = e.target.value;
        localStorage.setItem('lang', newLang);
        applyTranslations(newLang);
        // Also update the welcome modal selector
        welcomeLangSelect.value = newLang;
    });

    // Language select (Welcome modal)
    welcomeLangSelect.addEventListener('change', (e) => {
        langSelect.value = e.target.value; // Sync with header
    });
    
    // Theme selection (Welcome modal)
    themeOptions.forEach(radio => {
        radio.addEventListener('change', (e) => {
            setTheme(e.target.value);
        });
    });

    // Welcome modal save
    welcomeSave.addEventListener('click', () => {
        const newLang = welcomeLangSelect.value;
        const newTheme = document.querySelector('input[name="welcomeTheme"]:checked').value;
        
        localStorage.setItem('lang', newLang);
        localStorage.setItem('theme', newTheme);
        localStorage.setItem('has_welcomed', 'true');
        
        setTheme(newTheme);
        langSelect.value = newLang; // Sync header
        applyTranslations(newLang); // Apply translations
        welcomeBackdrop.style.display = 'none';
        showToast('Settings saved!', 2500);
    });

    // Welcome modal skip
    welcomeSkip.addEventListener('click', () => {
        localStorage.setItem('has_welcomed', 'true');
        welcomeBackdrop.style.display = 'none';
    });

    // Open Welcome modal (Gear icon)
    openWelcome.addEventListener('click', () => {
        // Sync current settings to the modal first
        welcomeLangSelect.value = langSelect.value;
        updateWelcomeThemeRadios(getTheme());
        welcomeBackdrop.style.display = 'flex';
    });

    // Open Admin Area
    document.getElementById('openAdmin').addEventListener('click', () => {
        adminBackdrop.style.display = 'flex';
        // Reset state
        if (adminContent.style.display === 'block') {
            adminLogin.style.display = 'none';
            adminContent.style.display = 'block';
            loadNewsUpdate();
            loadSeoSettings();
            renderAnalyticsDashboard();
        } else {
            adminLogin.style.display = 'block';
            adminContent.style.display = 'none';
            adminTokenInput.value = '';
        }
    });

    // Close Admin Area
    document.getElementById('closeAdmin').addEventListener('click', () => {
        adminBackdrop.style.display = 'none';
    });
    
    // Report Bug Link
    document.getElementById('reportBugLink').addEventListener('click', (e) => {
        e.preventDefault();
        // Simple alert for demonstration
        alert('Please report bugs to our Discord server: https://discord.gg/smgS6sq83y');
    });

    // ===========================
    // Initialization
    // ===========================
    setTheme(getTheme());
    setInterval(updateTime, 1000);

    // Initial language setup
    const initLang = localStorage.getItem('lang') || (navigator.language.startsWith('id') ? 'id' : 'en');
    langSelect.value = initLang;
    applyTranslations(initLang);
    updateTime();

    // Show welcome modal if not seen before
    if (!localStorage.getItem('has_welcomed')) {
        // Only show if not on admin mode (to prevent conflict)
        if (adminBackdrop.style.display !== 'flex') {
            welcomeBackdrop.style.display = 'flex';
        }
    }


    /* ===========================
       Allow middle click / aux click default behavior on links (unchanged)
       =========================== */
    document.querySelectorAll('a').forEach(a => {
        a.addEventListener('auxclick', (e) => { /* allow default behavior */ });
    });

    /* ===========================
       Misc small UI effects (unchanged)
       =========================== */

    // status indicator pulse if present
    const status = document.querySelector('#status-indicator');
    if (status) {
        setInterval(() => {
            status.style.opacity = status.style.opacity === '1' ? '0.5' : '1';
        }, 600);
    }

    // graceful page link transition for all html links
    document.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', e => {
            // only internal html
            try {
                const href = link.getAttribute('href');
                if (href && href.endsWith('.html') && !link.hasAttribute('data-no-transition')) {
                    e.preventDefault();
                    document.body.style.opacity = '0';
                    setTimeout(() => (window.location.href = href), 300);
                }
            } catch (err) { /* ignore */ }
        });
    });

    /* ===========================
       Console debug friendly message (unchanged)
       =========================== */
    console.log('%cGrowfax Engine Ready ‚úÖ', 'color: #00ff88; font-weight: bold; font-size: 16px;');
</script>
</body>
</html>
