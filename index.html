<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Growfax Official - Private Growtopia Server & Downloads</title>
<link rel="icon" href="Growfax_banner.jpg" type="image/jpeg">

<meta name="description" content="Situs resmi Growfax, private server Growtopia. Unduh file host terbaru untuk Android, Windows, dan iOS. Mainkan Growtopia dengan fitur eksklusif dan komunitas aktif!"
 />
<meta name="keywords" content="Growfax, Growtopia Private Server, Growtopia PS, Download Growfax, Host Growtopia, Growfax Android, Growfax Windows" />
<meta name="robots" content="index, follow" />
<link rel="canonical" href="https://growfax.web.id/home" />

<meta property="og:type" content="website" />
<meta property="og:url" content="https://growfax.web.id/home" />
<meta property="og:title" content="Growfax Official - Private Growtopia Server & Downloads" />
<meta property="og:description" content="Unduh file host terbaru untuk Growfax Private Server (Android, Windows, iOS) dan bergabunglah dengan komunitas Discord kami."
 />
<meta property="og:image" content="https://growfax.web.id/Growfax_banner.jpg" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content="https://growfax.web.id/home" />
<meta name="twitter:title" content="Growfax Official - Private Growtopia Server & Downloads" />
<meta name="twitter:description" content="Unduh file host terbaru untuk Growfax Private Server (Android, Windows, iOS) dan bergabunglah dengan komunitas Discord kami."
 />
<meta name="twitter:image" content="https://growfax.web.id/Growfax_banner.jpg" />

<meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload" />
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" /> 

<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer ||
[];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX'); // Placeholder ID for Growfax Analytics
</script>
<style>
  /* ============================================================
     Growfax Official ‚Äî FULL UI stylesheet (futuristic neon/fax)
     - Mobile-First Optimization Applied (Fixed Horizontal Scrolling)
     ============================================================ */

  /* Global Reset: Ensure padding/border don't cause overflow */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  /* NEW: Keyframes for Logo Animation */
  @keyframes pulse {
    0% { transform: scale(1);
    box-shadow: var(--logo-shadow); }
    50% { transform: scale(1.02); box-shadow: var(--logo-shadow-hover); }
    100% { transform: scale(1);
    box-shadow: var(--logo-shadow); }
  }

  :root{
    --bg:#f8f8f8;
    --card-bg:#fff;
    --text:#1a1a1a;
    --accent:#0078d7;
    --card-shadow:0 8px 20px rgba(0,0,0,0.08);
    --discord-color:#7289da;
    --muted:#667;
    --toast-bg:rgba(0,0,0,0.8);
    --glass: rgba(255,255,255,0.6);
    --success:#2ecc71;
    --danger:#e74c3c;
    --mono: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    --border-color: rgba(0,0,0,0.08);
    /* UPDATED: Custom properties for YELLOW glow effect in light mode */
    --glow-color-light: rgba(255, 193, 7, 0.6);
    /* soft yellow glow */
    --text-shadow-light: 0 0 10px var(--glow-color-light), 0 2px 4px rgba(0,0,0,0.2);
    --logo-shadow: 0 4px 12px rgba(0,0,0,0.12), 0 2px 6px rgba(0,0,0,0.08);
    --logo-shadow-hover: 0 8px 20px rgba(255, 193, 7, 0.4);
  }
  [data-theme="dark"]{
    --bg:#0f1720;
    --card-bg:#0b1220;
    --text:#e6eef8;
    --accent:#4da3ff;
    --card-shadow:0 8px 28px rgba(0,0,0,0.6);
    --discord-color:#5b6ea6;
    --muted:#9aa;
    --toast-bg:rgba(255,255,255,0.08);
    --glass: rgba(255,255,255,0.03);
    --border-color: rgba(255,255,255,0.06);

    /* UPDATED: Custom properties for YELLOW glow effect in dark mode */
    --glow-color-dark: rgba(255, 170, 0, 0.8);
    /* brighter gold glow */
    --text-shadow-dark: 0 0 12px var(--glow-color-dark), 0 2px 8px rgba(0,0,0,0.6);
    --logo-shadow: 0 6px 18px rgba(0,0,0,0.4), 0 3px 9px rgba(0,0,0,0.25);
    --logo-shadow-hover: 0 10px 25px rgba(255, 170, 0, 0.5);
  }

  html,body{
    height:100%;
    margin:0;
    font-family:var(--mono);
    background:var(--bg);
    color:var(--text);
    line-height:1.6;
    transition:background .25s,color .25s;
    overflow-x: hidden;
  }
  
  /* -------------------------
     Header / Navigation (Optimasi Mobile)
     ------------------------- */
  header{background:var(--card-bg);box-shadow:var(--card-shadow);position:sticky;top:0;z-index:1200}
  .header-content{
    max-width:1100px;
    margin:0 auto;
    padding:10px 10px; /* ADJUSTED: Reduced padding for mobile */
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:8px;
    flex-wrap: wrap;
  }
  .header-left{
    display:flex;
    align-items:center;
    gap:8px; 
    flex: 1 1 50%;
  }
  .brand-wrap{display:flex;align-items:center;gap:8px}
  
  /* Glow, lift, and Pulse Animation for logo image */
  .brand-wrap img{
    width:36px;
    height:36px;
    border-radius:6px;
    object-fit:cover;
    transition: box-shadow .25s, transform .25s, opacity 0.2s ease;
    box-shadow: var(--logo-shadow);
    /* Apply animation */
    animation: pulse 3s infinite ease-in-out;
  }

  h1{
    font-size:1.2rem;
    margin:0;
    font-weight:700;
    /* Added opacity transition for smoother language change */
    transition: text-shadow .25s, opacity 0.2s ease;
    color: var(--text);
    text-shadow: var(--text-shadow-light); 
  }
  [data-theme="dark"] h1 {
    text-shadow: var(--text-shadow-dark);
  }

  .brand-wrap > div > div { 
    font-size: 0.75rem;
    /* Added opacity transition for smoother language change */
    transition: opacity 0.2s ease;
  }

  nav.primary{
    color:var(--accent);
    text-decoration:none;
    font-weight:700;
    margin-left:auto; 
    font-size: 0.9rem;
    flex: 1 1 100%; 
    margin-top: 6px;
    /* ADJUSTED: Reduced margin for tighter fit */
    text-align: left;
  }
  nav.primary a{
      color:var(--accent);
      text-decoration:none;
      font-weight:700;
      margin-left:0;
      margin-right: 12px;
      /* Added opacity transition for smoother language change */
      transition: opacity 0.2s ease, transform .18s;
  }
  nav.primary a:hover{opacity:.86;transform:translateY(-1px)}
  
  .controls{
    display:flex;
    align-items:center;
    gap:6px;
    flex: 0 1 auto;
    /* FIX FOR MOBILE WRAPPING: Allow buttons to wrap within the controls box */
    flex-wrap: wrap;
    justify-content: flex-end; /* Keep the buttons aligned to the right */
  }
  /* Gaya untuk semua tombol kontrol di header */
  .theme-toggle,.lang-select,.open-welcome, .report-bug-btn, #openAdmin {
    font-size:0.9rem;
    padding:6px 8px;
    border-radius:8px;
    border:1px solid var(--border-color);
    background:transparent;
    color:var(--text);
    cursor:pointer;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 4px;
    /* Added opacity transition for smoother language change */
    transition: background-color .15s, opacity 0.2s ease;
  }
  .report-bug-btn:hover, .theme-toggle:hover, .open-welcome:hover, #openAdmin:hover {
    background: rgba(0,0,0,0.05);
  }
  [data-theme="dark"] .report-bug-btn:hover, [data-theme="dark"] .theme-toggle:hover, [data-theme="dark"] .open-welcome:hover, [data-theme="dark"] #openAdmin:hover {
    background: rgba(255,255,255,0.05);
  }

  /* -------------------------
     Banner / Hero
     ------------------------- */
  .banner-section{text-align:center;padding:40px 10px;background:linear-gradient(90deg, rgba(0,0,0,0.03), rgba(255,255,255,0.02))}
  .banner-section img{max-width:200px;border-radius:8px;margin-bottom:14px}
  .banner-section h2{
    font-size:1.6rem;
    color:#ffaa00;
    margin:8px 0;
    text-shadow:0 0 10px rgba(255,170,0,0.18);
    transition: opacity 0.2s ease;
  }
  .banner-section p{
    font-size:0.95rem;
    opacity:.92;
    margin:0;
    transition: opacity 0.2s ease;
  }
  .time-display{
    margin-top:8px;
    font-size:0.85rem;
    font-weight:600;
    opacity:.9;
    transition: opacity 0.2s ease;
  }

  /* -------------------------
     Container (main content)
     ------------------------- */
  .container{max-width:1000px;margin:32px auto;text-align:center;padding:0 10px}
  .container h2{
    font-size:1.4rem;
    margin-bottom:24px;
    transition: opacity 0.2s ease;
  }
  
  /* Platform Buttons: Full width for mobile */
  .platform-buttons{display:flex;flex-wrap:wrap;justify-content:center;gap:14px}
  .platform-buttons a{
    display:flex;align-items:center;justify-content:center;gap:12px;
    width:92%; 
    padding:14px 18px;border-radius:12px;color:#fff;font-weight:700;
    text-decoration:none;border:1px solid transparent;font-size:1.02rem;
    transition:transform .18s ease,box-shadow .18s, opacity 0.2s ease;
  }
  .platform-buttons a img{width:30px;height:30px;border-radius:6px}
  .platform-buttons a:hover{transform:translateY(-2px)}

  .btn-android{background:#34c759;--glow:#4cff77;box-shadow:0 4px 16px rgba(76,255,119,0.08)}
  .btn-windows{background:#0078d7;--glow:#4da3ff;box-shadow:0 4px 16px rgba(77,163,255,0.08)}
  .btn-ios{background:#007aff;--glow:#7acbff;box-shadow:0 4px 16px rgba(122,203,255,0.08)}
  .btn-powertunnel{background:#b71c1c;--glow:#ff5a5a;box-shadow:0 4px 16px rgba(255,90,90,0.08)}

  /* -------------------------
     ADDED: Role Shop Styles
     ------------------------- */
  .role-shop-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .role-card {
    background: var(--card-bg);
    padding: 20px;
    border-radius: 12px;
    box-shadow: var(--card-shadow);
    text-align: center;
    transition: transform .2s ease, box-shadow .2s ease;
    border: 1px solid var(--border-color);
  }

  .role-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0,0,0,0.15); /* Slightly enhanced shadow on hover */
  }
  [data-theme="dark"] .role-card:hover {
    box-shadow: 0 12px 30px rgba(255, 170, 0, 0.2); /* Neon glow effect in dark mode */
  }

  .role-card h3 {
    margin-top: 0;
    font-size: 1.5rem;
    color: var(--accent); /* Use accent color for role name */
    text-shadow: 0 0 5px rgba(0, 120, 215, 0.2);
    transition: text-shadow .25s, color .25s;
  }
  [data-theme="dark"] .role-card h3 {
    text-shadow: 0 0 8px var(--glow-color-dark);
  }

  .role-card p.price {
    font-size: 2rem;
    font-weight: 700;
    margin: 10px 0 20px;
    color: var(--text);
    transition: color .25s;
  }

  .role-card p.price small {
    font-size: 1rem;
    font-weight: 400;
    opacity: 0.7;
    color: var(--muted);
  }

  /* Custom button class for purchase/payment consistency */
  .btn-purchase {
    background: #007aff; /* iOS blue/accent color */
    color: #fff;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 700;
    border: none;
    cursor: pointer;
    transition: background-color .15s, transform .15s;
    width: 100%;
    display: block;
    box-sizing: border-box;
  }

  .btn-purchase:hover {
    background: #006ae6;
    transform: translateY(-1px);
  }

  /* -------------------------
     Discord Section
     ------------------------- */
  .discord-section{background:var(--discord-color);color:#fff;padding:24px;border-radius:10px;max-width:820px;margin:32px auto 50px;text-align:center;box-shadow:var(--card-shadow)}
  .discord-section img{width:48px;height:48px;border-radius:8px;margin-bottom:8px}
  .discord-section h3, .discord-section p, .discord-section a {
    transition: opacity 0.2s ease;
  }

  /* -------------------------
     Footer
     ------------------------- */
  footer{
    text-align:center;
    margin:30px 0 40px;
    font-size:.85rem;
    opacity:.85;
    transition: opacity 0.2s ease;
  }

  /* -------------------------
     Modal & Welcome/Admin Popup
     ------------------------- */
  .modal-backdrop, .welcome-backdrop, .admin-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:1300}
  .modal, .welcome{width:92%;max-width:560px;background:var(--card-bg);color:var(--text);border-radius:12px;padding:16px;box-shadow:0 14px 40px rgba(0,0,0,0.2);transform:translateY(0);transition:transform .18s,opacity .18s}
  
  /* Added opacity transition to modal/welcome text elements */
  .modal h3, .modal p, .modal .changelog, .welcome h2, .welcome p, .welcome label, .welcome button, .modal h2, .modal h4 {
      transition: opacity 0.2s ease;
  }
  
  /* NEW: Admin Modal specific styles (input and buttons) */
  #adminTokenInput, #newsUpdateTextarea, #seoTitleInput, #seoDescTextarea, #seoKeywordsInput, #growidInput { /* ADDED #growidInput */
    /* Ensure they match the theme */
    border: 1px solid var(--border-color) !important;
    background: var(--card-bg) !important;
    color: var(--text) !important;
  }

  /* -------------------------
     Floating Discord button
     ------------------------- */
  .floating-chat{position:fixed;right:12px;bottom:12px;width:48px;height:48px;border-radius:50%;background:var(--discord-color);display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.2);cursor:pointer;z-index:1500}
  .floating-chat img{width:24px;height:24px;border-radius:4px}

  /* -------------------------
     Toast message
     ------------------------- */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:70px;background:var(--toast-bg);color:#fff;padding:8px 12px;border-radius:10px;opacity:0;pointer-events:none;transition:opacity .18s,transform .18s;z-index:1600}
  
  /* ===========================
     PC/Desktop Optimizations (Min-width 600px)
     =========================== */
  @media (min-width: 600px) {
    /* Header/Nav kembali ke ukuran besar */
    .header-content {
        flex-wrap: nowrap;
        align-items: center;
        padding: 14px 20px;
    }
    /* Logo size PC */
    .brand-wrap img{width:46px;height:46px;border-radius:8px}
    /* H1 size PC */
    h1{font-size:1.4rem;}
    .brand-wrap > div > div { font-size: 0.85rem;
    }
    nav.primary {
        flex: 0 1 auto; 
        margin-top: 0;
        margin-left: 12px; 
        text-align: left;
    }
    nav.primary a{
        margin-left:12px;
        margin-right: 0;
        font-size: 1rem;
    }
    .controls{gap:10px; flex-wrap: nowrap;} /* Reset wrap on PC */
    /* Ukuran PC untuk semua tombol kontrol */
    .theme-toggle,.lang-select,.open-welcome, .report-bug-btn, #openAdmin {
        font-size:0.98rem;
        padding:8px 12px;
        border-radius: 10px;
    }

    /* Tombol Unduhan kembali ke layout 300px */
    .platform-buttons{gap:20px}
    .platform-buttons a{
      width:300px;
    }
    .platform-buttons a:hover{transform:translateY(-4px)}

    /* Banner/Content padding besar */
    .banner-section{padding:56px 20px;}
    .banner-section img{max-width:240px;border-radius:10px;}
    .banner-section h2{font-size:1.9rem;}
    .container{margin:48px auto;padding:0 18px}
    .container h2{font-size:1.6rem;margin-bottom:28px}
    .discord-section{padding:32px;margin:42px auto 60px;}

    /* Floating button kembali ke posisi normal */
    .floating-chat{right:18px;bottom:18px;width:56px;height:56px;}
    .floating-chat img{width:28px;height:28px;}
    .toast{bottom:86px;}
  }
</style>
</head>
<body data-theme="light">
  <header>
    <div class="header-content">
      <div class="header-left">
        <div class="brand-wrap">
     
          <img src="Growfax_banner.jpg" alt="Growfax Logo">
          <div>
            <h1>Growfax Official</h1>
            <div style="font-size:0.85rem;color:var(--muted)">Private Growtopia Server</div>
          </div>
        </div>

        <nav class="primary" aria-label="Main navigation">
          <a href="#home" id="navDownloads">üì• Downloads</a> 
          <a href="#role-shop" id="navRoleShop">üëë Role Shop</a> 
        </nav>
   
      </div>

      <div class="controls">
        <a href="#" 
           id="reportBugLink" 
           class="report-bug-btn" 
           title="Report a Bug">üêû Report Bug</a>
        
        <button id="openAdmin" class="open-welcome" title="Admin Area">üîë Admin</button> <button id="openWelcome" class="open-welcome" title="Welcome & Preferences">‚öôÔ∏è</button>
        
      
      <select id="langSelect" class="lang-select" title="Language" aria-label="Select language">
          <option value="en">üá¨üáß English</option>
          <option value="id">üáÆüá© Bahasa</option>
        </select>
        <button id="themeToggle" class="theme-toggle" aria-pressed="false" title="Toggle theme">üåû Light</button>
      </div>
    </div>
  </header>

  <section class="banner-section" role="region" aria-label="Main banner">
    <img src="Growfax_banner.jpg" alt="Growfax Banner">
    <h2>Welcome to Growfax</h2>
    <p>Private Growtopia Server</p>
    <div id="timeDisplay" class="time-display">Loading time...</div>
  </section>

 
  <main class="container" id="home" role="main">
    <h2>üì• Essential File Downloads</h2>
    <div class="platform-buttons" role="list">
      <a href="Growfax_VirtualHost.txt" class="btn-android" data-filename="Growfax_VirtualHost.txt" data-filekey="virtualhost" download role="listitem">
        <img src="virtual-host.png" alt="">Play on Android
      </a>

      <a href="Growfax_Patched_.bat" class="btn-windows" data-filename="Growfax_Patched_.bat" data-filekey="patched" download role="listitem">
        <img src="windows.png" alt="">Play on Windows
      </a>

      <a href="#" class="btn-ios" data-filename="GrowFax_ios_config.txt" data-filekey="ios" role="listitem">
        <img src="surge5.png" alt="">Play on 
        iOS
      </a>

      <a href="#" class="btn-powertunnel" data-filename="PowerTunnel_Host.txt" data-filekey="powertunnel" role="listitem">
        <img src="powertunnel.jpeg" alt="">Play via PowerTunnel
      </a>
    </div>
  </main>
  
  <main class="container" id="role-shop" role="region" aria-label="Role Shop">
    <h2>üëë Role Shop - Support Server</h2>
    <div class="role-shop-grid">
      <div class="role-card" data-role="vip" data-price="15000">
        <span style="font-size: 2rem;">üåü</span>
        <h3>VIP</h3>
        <p class="price">Rp15.000</p>
        <button class="btn-purchase" data-role-name="VIP">Beli VIP</button>
      </div>

      <div class="role-card" data-role="vip-plus" data-price="25000">
        <span style="font-size: 2rem;">‚ú®</span>
        <h3>VIP+</h3>
        <p class="price">Rp25.000</p>
        <button class="btn-purchase" data-role-name="VIP+">Beli VIP+</button>
      </div>

      <div class="role-card" data-role="moderator" data-price="45000">
        <span style="font-size: 2rem;">üõ°Ô∏è</span>
        <h3>Moderator</h3>
        <p class="price">Rp45.000</p>
        <button class="btn-purchase" data-role-name="Moderator">Beli Moderator</button>
      </div>

      <div class="role-card" data-role="super-moderator" data-price="80000">
        <span style="font-size: 2rem;">‚öîÔ∏è</span>
        <h3>Super Moderator</h3>
        <p class="price">Rp80.000</p>
        <button class="btn-purchase" data-role-name="Super Moderator">Beli Super Moderator</button>
      </div>
      
      <div class="role-card" data-role="developer" data-price="120000">
        <span style="font-size: 2rem;">üë®‚Äçüíª</span>
        <h3>Developer</h3>
        <p class="price">Rp120.000</p>
        <button class="btn-purchase" data-role-name="Developer">Beli Developer</button>
      </div>

      <div class="role-card" data-role="god" data-price="180000" style="border: 2px solid var(--glow-color-light);">
        <span style="font-size: 2rem;">üî•</span>
        <h3>GOD</h3>
        <p class="price">Rp180.000</p>
        <button class="btn-purchase" data-role-name="GOD" style="background: #ffaa00;">Beli GOD</button>
      </div>
    </div>
    
    <div style="margin-top: 40px; padding: 20px; background: var(--glass); border-radius: 10px; border: 1px solid var(--border-color); max-width: 600px; margin-left: auto; margin-right: auto; text-align: center;">
        <h3 style="margin-top: 0; color: #34c759;" id="paymentTitle">Metode Pembayaran</h3>
        <p style="font-size: 1.1rem; font-weight: 600; margin: 10px 0;">Via DANA (Dompet Digital Indonesia)</p>
        <img src="dana-logo.png" alt="DANA Logo" style="width: 80px; height: auto; margin-bottom: 10px; filter: grayscale(var(--is-dark-mode));">
        <p style="font-size: 0.95rem; opacity: 0.8; margin-bottom: 0;" id="paymentInstructions">Klik tombol beli di atas, masukkan GrowID, dan ikuti instruksi pembayaran via DANA.</p>
    </div>
  </main>
  <section class="discord-section" aria-label="Discord community">
    <img src="discord.jpeg" alt="Discord Logo">
    <h3>Join Our Community</h3>
    <p>Connect with others and get support in our official Discord server.</p>
    <a id="discordLink" href="https://discord.gg/smgS6sq83y" target="_blank" rel="noopener">Join Growfax Discord</a>
  </section>

  <footer>¬© 2025 Growfax.
 All rights reserved.</footer>

  <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 id="modalTitle">File info</h3>
      <p id="modalDesc">Details before download</p>
      
      <div id="growidInputGroup" style="display:none; margin: 10px 0;">
          <label for="growidInput" style="display: block; text-align: left; margin-bottom: 5px; font-weight: 600;" id="growidLabel">GrowID Anda:</label>
          <input type="text" id="growidInput" placeholder="Masukkan GrowID Anda" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text);">
      </div>
      <div class="meta">
        <div class="chip" id="modalVersion">v0.0</div>
        <div class="chip" id="modalUpdated">Updated: ‚Äî</div>
      </div>

      <div class="changelog" id="modalChangelog">Changelog: ‚Äî</div>

      <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
        <div style="font-size:.9rem;color:var(--muted)" id="modalFilename">Filename</div>
        
        <div class="buttons">
          <button class="btn secondary" id="modalCancel">Cancel</button>
          <button class="btn primary" id="modalConfirm">Download</button>
        </div>
      </div>
    </div>
  </div>

  <div id="welcomeBackdrop" class="welcome-backdrop" aria-hidden="true">
    <div class="welcome" role="dialog" aria-modal="true" aria-labelledby="welcomeTitle">
      <h2 id="welcomeTitle">Welcome to Growfax</h2>
      <p style="margin:6px 0 12px;opacity:.9">Set your preferred language and theme.
 We'll remember this for next time.</p>
      <div class="row">
        <label for="welcomeLang">Language</label>
        <select id="welcomeLang" class="lang-select">
          <option value="en">üá¨üáß English</option>
          <option value="id">üáÆüá© Bahasa</option>
        </select>
      </div>
      <div class="row">
        <label>Theme</label>
        <div style="display:flex;gap:10px;align-items:center">
       
       <label><input type="radio" name="welcomeTheme" value="light" checked> Light</label>
          <label><input type="radio" name="welcomeTheme" value="dark"> Dark</label>
        </div>
      </div>

      <div class="actions" style="display:flex;justify-content:flex-end;gap:8px;margin-top:14px">
        <button class="btn secondary" id="welcomeSkip">Skip</button>
        <button class="btn primary" id="welcomeSave">Save & Continue</button>
      </div>
    </div>
  </div>

  <div id="adminBackdrop" class="modal-backdrop admin-backdrop" aria-hidden="true">
    <div class="modal admin-modal" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
     
       <h2 id="adminTitle">üîë Admin Area</h2>
        
        <div id="adminLogin" style="text-align: center;
 padding: 20px;">
            <p id="adminLoginPrompt">Enter the Admin Token to proceed:</p>
            <input type="password" id="adminTokenInput" placeholder="Token" style="padding: 10px;
 width: 80%; max-width: 300px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--card-bg);
 color: var(--text);">
            <button class="btn primary" id="adminTokenSubmit" style="margin-top: 10px;
 width: 80%; max-width: 300px;">Submit</button>
        </div>

        <div id="adminContent" style="display: none;
 padding-top: 10px;">
            <div style="margin-top: 15px; padding: 15px; border-radius: 8px;
 background: var(--glass); border: 1px solid var(--border-color);">
                <h4 style="margin: 0 0 10px;
 color: var(--accent);">Server Status</h4>
                <p>Status: <strong id="serverStatusDisplay" style="color: var(--success);">Online</strong></p>
                <button class="btn danger" id="toggleServerStatus">Toggle Status (Simulate)</button>
            </div>
            
            <div style="margin-top: 20px;
 padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
                <h4 style="margin: 0 0 10px;
 color: var(--accent);" id="analyticsTitle">Analytical Dashboard</h4>
                <div id="analyticsContent" style="text-align: left;
 font-size: 0.9rem;">
                    <p id="totalDownloadsContainer">Total Downloads: <strong id="totalDownloads">‚Äî</strong></p>
                    <p id="recentActivitiesTitle">Recent Activities:</p>
                    <ul id="recentActivities" style="margin: 5px 0 0 20px;
 padding: 0; list-style-type: square; font-size: 0.85rem;">
                        <li>Simulating data...</li>
                    </ul>
                    <button class="btn secondary" id="refreshAnalytics" style="margin-top: 10px;
 padding: 5px 10px;">Refresh Data</button>
                </div>
            </div>
            <div style="margin-top: 20px;
 padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
                <h4 style="margin: 0 0 10px;
 color: var(--accent);">News & Updates</h4>
                <textarea id="newsUpdateTextarea" style="width: 100%;
 height: 100px; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text);
 resize: vertical;" placeholder="Enter news/update text..."></textarea>
                <button class="btn primary" id="saveNewsUpdate" style="margin-top: 10px;">Save News</button>
            </div>

            <div style="margin-top: 20px;
 padding: 15px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border-color);">
                <h4 style="margin: 0 0 10px;
 color: var(--accent);" id="seoTitle">SEO Management</h4>
                
                <label for="seoTitleInput" style="display: block;
 margin-top: 10px; font-size: 0.9rem;">Page Title (Hanya Title Tag HTML)</label>
                <input type="text" id="seoTitleInput" style="width: 100%;
 padding: 8px; border-radius: 6px; border: 1px solid var(--border-color); background: var(--card-bg);
 color: var(--text);" placeholder="Enter Page Title...">

                <label for="seoDescTextarea" style="display: block;
 margin-top: 10px; font-size: 0.9rem;">Meta Description</label>
                <textarea id="seoDescTextarea" style="width: 100%;
 height: 80px; padding: 8px; border-radius: 6px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text);
 resize: vertical;" placeholder="Enter Meta Description..."></textarea>
                
                <label for="seoKeywordsInput" style="display: block;
 margin-top: 10px; font-size: 0.9rem;">Meta Keywords (Comma-separated)</label>
                <input type="text" id="seoKeywordsInput" style="width: 100%;
 padding: 8px; border-radius: 6px; border: 1px solid var(--border-color); background: var(--card-bg);
 color: var(--text);" placeholder="Keyword1, Keyword2, ...">

                <button class="btn primary" id="saveSeoMeta" style="margin-top: 10px;">Update SEO Meta</button>
            </div>
            <div style="margin-top: 20px;
 text-align: right; border-top: 1px solid var(--border-color); padding-top: 10px;">
                <button class="btn secondary" id="closeAdmin">Close Admin Area</button>
            </div>
        </div>
    </div>
  </div>

  <a id="floatingChat" class="floating-chat" href="https://discord.gg/smgS6sq83y" target="_blank" rel="noopener" title="Open Discord">
    <img src="discord.jpeg" alt="Discord">
  </a>

  <div id="toast" class="toast" role="status" aria-live="polite">Saved</div>

<script>
/* ============================================================
   Growfax Official ‚Äî FULL script
   ============================================================ */

/* ===========================
   Analytical Tool Function 
   =========================== 
*/
function trackEvent(eventName, eventParams = {}) {
    // Fungsi ini menyimulasikan pengiriman data ke alat analitik (e.g., Google Analytics).
    console.log(`[ANALYTICS] Tracking event: ${eventName}`, eventParams);
    
    // Kirim event menggunakan gtag jika skrip GA dimuat
    if (typeof gtag === 'function') {
        gtag('event', eventName, eventParams);
    }
}

/* ===========================
   Core refs & state
   =========================== */
const langSelect = document.getElementById('langSelect');
const themeToggle = document.getElementById('themeToggle');
const openWelcome = document.getElementById('openWelcome');
const toast = document.getElementById('toast');
const modalBackdrop = document.getElementById('modalBackdrop');
const modalTitle = document.getElementById('modalTitle');
const modalDesc = document.getElementById('modalDesc');
const modalVersion = document.getElementById('modalVersion');
const modalUpdated = document.getElementById('modalUpdated');
const modalChangelog = document.getElementById('modalChangelog');
const modalFilename = document.getElementById('modalFilename');
const modalConfirm = document.getElementById('modalConfirm');
const modalCancel = document.getElementById('modalCancel');

const welcomeBackdrop = document.getElementById('welcomeBackdrop');
const welcomeLang = document.getElementById('welcomeLang');
const welcomeSave = document.getElementById('welcomeSave');
const welcomeSkip = document.getElementById('welcomeSkip');
const timeDisplay = document.getElementById('timeDisplay');
const discordLink = document.getElementById('discordLink');
const reportBugLink = document.getElementById('reportBugLink');

// ADDED: Role Purchase Refs
const growidInputGroup = document.getElementById('growidInputGroup');
const growidLabel = document.getElementById('growidLabel');
const growidInput = document.getElementById('growidInput');

let isRolePurchase = false; // NEW state tracker
let pendingRole = null; // NEW: To hold role details

// Admin Area Refs
const ADMIN_TOKEN = 'GFAx_2025_ADMN';
// Hardcoded token for static page simulation
const openAdmin = document.getElementById('openAdmin');
const adminBackdrop = document.getElementById('adminBackdrop');
const adminTitle = document.getElementById('adminTitle');
const adminLogin = document.getElementById('adminLogin');
const adminLoginPrompt = document.getElementById('adminLoginPrompt');
const adminTokenInput = document.getElementById('adminTokenInput');
const adminTokenSubmit = document.getElementById('adminTokenSubmit');
const adminContent = document.getElementById('adminContent');
const closeAdmin = document.getElementById('closeAdmin');
const serverStatusDisplay = document.getElementById('serverStatusDisplay');
const toggleServerStatus = document.getElementById('toggleServerStatus');
const newsUpdateTextarea = document.getElementById('newsUpdateTextarea');
const saveNewsUpdate = document.getElementById('saveNewsUpdate');
// Analytical Dashboard Refs
const analyticsTitle = document.getElementById('analyticsTitle');
const totalDownloadsContainer = document.getElementById('totalDownloadsContainer');
const totalDownloadsElement = document.getElementById('totalDownloads');
const recentActivitiesTitle = document.getElementById('recentActivitiesTitle');
const recentActivitiesElement = document.getElementById('recentActivities');
const refreshAnalytics = document.getElementById('refreshAnalytics');

// SEO Refs
const seoTitle = document.getElementById('seoTitle');
const seoTitleInput = document.getElementById('seoTitleInput');
const seoDescTextarea = document.getElementById('seoDescTextarea');
const seoKeywordsInput = document.getElementById('seoKeywordsInput');
const saveSeoMeta = document.getElementById('saveSeoMeta');

let isServerOnline = true;
// Simulated server status
let pendingDownload = null;
let isAdminLoggedIn = false; // New state tracker
let analyticsIntervalId = null;
// ID untuk auto-refresh dashboard

/* ===========================
   File metadata
   - PowerTunnel & iOS: Copy-text
   =========================== */
const FILE_META = {
  virtualhost: { version: 'v2.1', updated: 'Oct 29, 2025', changelog: '- Fixed host parsing\n- Improved TLS handling', size: '2.3 KB' },
  patched: { version: 'v1.9', updated: 'Oct 20, 2025', changelog: '- Patched launcher\n- Minor fixes', size: '12.1 KB' },
  // MODIFIED: iOS now uses copytext instead of download
  ios: { 
    version: 'v1.5', 
    updated: 'Nov 02, 2025', 
    changelog: 'Instruksi: Konfigurasi Surge/Shadowrocket telah 
disalin secara otomatis ke clipboard Anda. Tempelkan di bagian [Host] atau custom config.', 
    size: '1.5 KB',
    copytext: `[General]\nbypass-system = true\n\n[Rule]\nFINAL,DIRECT\n\n[Host]\ngrowtopia1.com = 91.134.85.13\ngrowtopia2.com = 91.134.85.13\nwww.growtopia1.com = 91.134.85.13\nwww.growtopia2.com = 91.134.85.13`
  },
  powertunnel: { 
    version: 'v3.0', 
    updated: 'Oct 10, 2025', 
    changelog: 'Instruksi: Teks Host telah disalin secara otomatis ke clipboard Anda.
Silakan tempelkan ke konfigurasi PowerTunnel Anda.', 
    size: '1.9 KB',
    copytext: `15.235.232.75 growtopia1.com\n15.235.232.75 growtopia2.com\n15.235.232.75 www.growtopia1.com\n15.235.232.75 www.growtopia2.com`
  }
};
/* ===========================
   Translation baseline
   =========================== */
const elements = document.querySelectorAll('body *:not(script):not(style)');
elements.forEach(el=>{
  // Only store simple text nodes to avoid breaking complex elements
  if (el.childNodes.length === 1 && el.textContent.trim() !== '') {
    el.dataset.original = el.textContent.trim();
  }
});
/* Translation dictionary (expandable) */
const translations = {
  id: {
    "Growfax Official": "Growfax Resmi",
    "üì• Downloads": "üì• Unduhan",
    // ADDED: Role Shop Translations
    "üëë Role Shop": "üëë Toko Role",
    "üëë Role Shop - Support Server": "üëë Toko Role - Dukungan Server",
    "Buy VIP": "Beli VIP",
    "Buy VIP+": "Beli VIP+",
    "Buy Moderator": "Beli Moderator",
    "Buy Super Moderator": "Beli Super Moderator",
    "Buy Developer": "Beli Developer",
    "Buy GOD": "Beli GOD",
    "Payment Method": "Metode Pembayaran",
    "Metode Pembayaran": "Metode Pembayaran",
    "Via DANA (Indonesian Digital Wallet)": "Via DANA (Dompet Digital Indonesia)",
    "Klik tombol beli di atas, masukkan GrowID, dan ikuti instruksi pembayaran via DANA.": "Klik tombol beli di atas, masukkan GrowID, dan ikuti instruksi pembayaran via DANA.",
    "Beli": "Beli",
    "Pembelian Role": "Pembelian Role",
    "Mohon masukkan GrowID Anda:": "Mohon masukkan GrowID Anda:",
    "GrowID Anda:": "GrowID Anda:",
    "ID Pembayaran (Simulasi)": "ID Pembayaran (Simulasi)",
    "Mohon transfer sejumlah dana sesuai harga role ke nomor DANA di bawah.": "Mohon transfer sejumlah dana sesuai harga role ke nomor DANA di bawah.",
    "Selesai & Tutup": "Selesai & Tutup",
    "Aksi dibatalkan.": "Aksi dibatalkan.",
    "Mohon masukkan GrowID Anda.": "Mohon masukkan GrowID Anda.",
    "Pembelian Role dikonfirmasi untuk": "Pembelian Role dikonfirmasi untuk",
    // END ADDED
    "Welcome to Growfax": "Selamat Datang di Growfax",
    "Private Growtopia Server": "Server Growtopia Pribadi",
    "Local Time (New York):": "Waktu Lokal (New York):",
    "Waktu Lokal (Jakarta):": "Waktu Lokal (Jakarta):",
    "üì• Essential File Downloads": "üì• Unduhan File Penting",
    "Play on Android": "Main di Android",
    "Play on Windows": "Main di Windows",
    "Play on iOS": "Main di iOS",
    "Play via PowerTunnel": "Main via PowerTunnel",
    "Join Our Community": "Gabung Komunitas Kami",
    "Connect with others and get support in our official Discord server.": "Terhubung dengan yang lain dan dapatkan bantuan di server Discord resmi kami.",
    "Join Growfax Discord": "Gabung Discord Growfax",
    "¬© 2025 Growfax. All rights reserved.": "¬© 2025 Growfax. Semua hak dilindungi.",
    "File info": "Info Berkas",
    "Details before download": "Detail sebelum mengunduh",
    "Version": "Versi",
    "Updated": "Diperbarui",
    "Changelog": "Catatan pembaruan",
    "Size": "Ukuran",
    "Filename": "Nama berkas",
    "Cancel": "Batal",
    "Download": "Unduh",
    "Welcome to Growfax": "Selamat Datang di Growfax",
    "Set your preferred language and theme. We'll remember this for next time.": "Atur preferensi bahasa dan tema Anda. Kami akan menyimpannya untuk kunjungan berikutnya.",
    "Language": "Bahasa",
    "Theme": "Tema",
    "Light": "Terang",
    "Dark": "Gelap",
    "Skip": "Lewati",
    "Save & Continue": "Simpan & Lanjutkan",
    "üîë Admin Area": "üîë Area Admin",
    "Enter the Admin Token to proceed:": "Masukkan Token Admin untuk melanjutkan:",
    "Submit": "Kirim",
    "Server Status": "Status Server",
    "Status": "Status",
    "Online": "Online",
    "Offline": "Offline",
    "Toggle Status (Simulate)": "Ubah Status (Simulasi)",
    "Analytical Dashboard": "Dasbor Analitik",
    "Total Downloads:": "Total Unduhan:",
    "Recent Activities:": "Aktivitas Terbaru:",
    "Refresh Data": "Perbarui Data",
    "News & Updates": "Berita & Pembaruan",
    "Save News": "Simpan Berita",
    "SEO Management": "Manajemen SEO",
    "Page Title (Hanya Title Tag HTML)": "Judul Halaman (Hanya Tag Title HTML)",
    "Meta Description": "Deskripsi Meta",
    "Meta Keywords (Comma-separated)": "Kata Kunci Meta (Dipisahkan Koma)",
    "Update SEO Meta": "Perbarui Meta SEO",
    "Close Admin Area": "Tutup Area Admin",
    "üêû Report Bug": "üêû Laporkan Bug",
    "Mulai mengunduh...": "Mulai mengunduh...",
    "Instruksi: Konfigurasi Surge/Shadowrocket telah disalin secara otomatis ke clipboard Anda. Tempelkan di bagian [Host] atau custom config.": "Instruksi: Konfigurasi Surge/Shadowrocket telah disalin secara otomatis ke clipboard Anda. Tempelkan di bagian [Host] atau custom config.",
    "Instruksi: Teks Host telah disalin secara otomatis ke clipboard Anda. Silakan tempelkan ke konfigurasi PowerTunnel Anda.": "Instruksi: Teks Host telah disalin secara otomatis ke clipboard Anda. Silakan tempelkan ke konfigurasi PowerTunnel Anda.",
    "Memperbarui data analitik...": "Memperbarui data analitik...",
    "‚úÖ Akses Admin diberikan!": "‚úÖ Akses Admin diberikan!",
    "‚ùå Token Admin Salah.": "‚ùå Token Admin Salah.",
    "Status Server diubah.": "Status Server diubah.",
    "Pembaruan Berita disimpan.": "Pembaruan Berita disimpan.",
    "Meta SEO diperbarui.": "Meta SEO diperbarui.",
    "Bahasa: Indonesia": "Bahasa: Indonesia",
    "Bahasa: English": "Bahasa: English",
    "Tema: Terang": "Tema: Terang",
    "Tema: Gelap": "Tema: Gelap"
  }
};
/* ===========================
   Analytical Dashboard Logic
// ... existing script logic
// ...
/* ===========================
   Analytical Dashboard Logic
   =========================== */
// Helper function to format time ago (simulated)
function getTimeAgo(date, lang) {
// ... (existing getTimeAgo function)
    const seconds = Math.floor((new Date() - date) / 1000);
    let interval = seconds / 31536000;
    const labels = {
        'id': { year: 'tahun', month: 'bulan', day: 'hari', hour: 'jam', minute: 'menit', just: 'baru saja' },
        'en': { year: 'year', month: 'month', day: 'day', hour: 'hour', minute: 'minute', just: 'just now' }
    }[lang];

    if (interval > 1) return Math.floor(interval) + ` ${labels.year} lalu`;
    interval = seconds / 2592000;
    if (interval > 1) return Math.floor(interval) + ` ${labels.month} lalu`;
    interval = seconds / 86400;
    if (interval > 1) return Math.floor(interval) + ` ${labels.day} lalu`;
    interval = seconds / 3600;
    if (interval > 1) return Math.floor(interval) + ` ${labels.hour} lalu`;
    interval = seconds / 60;
    if (interval > 1) return Math.floor(interval) + ` ${labels.minute} lalu`;

    if (seconds < 5) return labels.just;
    return `${Math.floor(seconds)} detik lalu`;
}
function renderAnalyticsDashboard() {
// ... (existing renderAnalyticsDashboard function)
    const lang = langSelect.value;
    const SIMULATED_DATA = {
        totalDownloads: 12000 + Math.floor(Math.random() * 200),
        activities: [
            { type: 'Download initiated:', details: 'virtualhost.txt', time: new Date(Date.now() - Math.random() * 86400000) },
            { type: 'Admin Login success', details: '192.168.1.1', time: new Date(Date.now() - Math.random() * 3600000) },
            { type: 'Download initiated:', details: 'patched.bat', time: new Date(Date.now() - Math.random() * 600000) },
            { type: 'Download initiated:', details: 'ios_config.txt', time: new Date(Date.now() - Math.random() * 120000) },
            { type: 'Role purchase initiated (simulated):', details: 'VIP+', time: new Date(Date.now() - Math.random() * 10000) }, // ADDED SIMULATION
        ].sort((a, b) => b.time - a.time)
    };

    // Update Headers
    totalDownloadsContainer.innerHTML = (lang === 'id' ?
        (translations.id['Total Downloads:'] || 'Total Unduhan:') : 'Total Downloads:') + ` <strong id="totalDownloads">${SIMULATED_DATA.totalDownloads.toLocaleString()}</strong>`;
    recentActivitiesTitle.textContent = lang === 'id' ?
        (translations.id['Recent Activities:'] || 'Aktivitas Terbaru:') : 'Recent Activities:';

    // Update Totals
    document.getElementById('totalDownloads').textContent = SIMULATED_DATA.totalDownloads.toLocaleString();

    // Update Activities
    recentActivitiesElement.innerHTML = '';
    SIMULATED_DATA.activities.forEach(activity => {
        const li = document.createElement('li');
        const timeAgo = getTimeAgo(activity.time, lang);
        let typeText;
        if (lang === 'id') {
            if (activity.type.startsWith('Download initiated:')) {
                typeText = (translations.id['Download initiated:'] || 'Unduhan dimulai: ') + activity.details;
            } else if (activity.type === 'Admin Login success') {
                typeText = (translations.id['Admin Login success'] || 'Login Admin berhasil') + ' (' + activity.details + ')';
            } else if (activity.type.startsWith('Role purchase initiated (simulated):')) { // ADDED
                 typeText = (translations.id['Pembelian Role dikonfirmasi untuk'] || 'Pembelian Role dikonfirmasi untuk') + ' ' + activity.details;
            }
            else { typeText = activity.type + ' ' + activity.details; }
        } else {
            typeText = activity.type + ' ' + activity.details;
        }
        li.textContent = `[${timeAgo}] ${typeText}`;
        recentActivitiesElement.appendChild(li);
    });

    // Handle button translation
    refreshAnalytics.textContent = lang === 'id' ? (translations.id['Refresh Data'] || 'Perbarui Data') : 'Refresh Data';
    refreshAnalytics.onclick = () => {
        showToast(lang === 'id' ? 'Memperbarui data analitik...' : 'Refreshing analytics data...', 1000);
        // Simulate refresh by re-rendering
        renderAnalyticsDashboard();
        trackEvent('analytics_refresh');
    };
}
/* =========================== SEO Management Logic =========================== */
// ... (existing SEO Management Logic)
function updateSeoMetaTags(title, desc, keywords) {
    // 1. Update <title>
    document.title = title;
    // 2. Update <meta name="description">
    let metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc) metaDesc.setAttribute('content', desc);
    else {
        metaDesc = document.createElement('meta');
        metaDesc.setAttribute('name', 'description');
        metaDesc.setAttribute('content', desc);
        document.head.appendChild(metaDesc);
    }
    // 3. Update <meta name="keywords">
    let metaKeywords = document.querySelector('meta[name="keywords"]');
    if (metaKeywords) metaKeywords.setAttribute('content', keywords);
    else {
        metaKeywords = document.createElement('meta');
        metaKeywords.setAttribute('name', 'keywords');
        metaKeywords.setAttribute('content', keywords);
        document.head.appendChild(metaKeywords);
    }
}
function loadAndApplySeoSettings() {
    const defaultTitle = document.querySelector('title').dataset.original || "Growfax Official - Private Growtopia Server & Downloads";
    const defaultDesc = document.querySelector('meta[name="description"]').dataset.original || "Situs resmi Growfax, private server Growtopia.";
    const defaultKeywords = document.querySelector('meta[name="keywords"]').dataset.original || "Growfax, Growtopia Private Server";

    const title = localStorage.getItem('seo_title') || defaultTitle;
    const desc = localStorage.getItem('seo_desc') || defaultDesc;
    const keywords = localStorage.getItem('seo_keywords') || defaultKeywords;

    updateSeoMetaTags(title, desc, keywords);
    // Update inputs in Admin Area
    if (seoTitleInput) seoTitleInput.value = title;
    if (seoDescTextarea) seoDescTextarea.value = desc;
    if (seoKeywordsInput) seoKeywordsInput.value = keywords;
}

document.addEventListener('DOMContentLoaded', loadAndApplySeoSettings); // Apply on initial load (takes effect immediately)

/* =========================== Smooth Translation Logic =========================== */
function updateAdminAreaTranslations(lang) {
    if (!adminLoginPrompt) return;
    // Exit if admin elements not loaded
    adminLoginPrompt.textContent = lang === 'id' ?
        (translations.id["Enter the Admin Token to proceed:"] || 'Masukkan Token Admin untuk melanjutkan:') : 'Enter the Admin Token to proceed:';
    adminTitle.textContent = lang === 'id' ? (translations.id["üîë Admin Area"] || 'üîë Area Admin') : 'üîë Admin Area';
    // Update dynamic content
    updateServerStatusDisplay();
    // Update button/header texts within admin content if (adminContent.style.display !== 'none') {
    if (adminContent.style.display !== 'none') {
        // Server Status
        document.querySelector('#adminContent h4:nth-child(1)').textContent = lang === 'id' ?
            (translations.id["Server Status"] || 'Status Server') : 'Server Status';
        // Analytical Dashboard
        document.querySelector('#adminContent h4:nth-child(3)').textContent = lang === 'id' ?
            (translations.id["News & Updates"] || 'Berita & Pembaruan') : 'News & Updates';
        // SEO Management (NEW)
        document.querySelector('#adminContent h4:nth-child(4)').textContent = lang === 'id' ? (translations.id["SEO Management"] || 'Manajemen SEO') : 'SEO Management';
        toggleServerStatus.textContent = lang === 'id' ? (translations.id["Toggle Status (Simulate)"] || 'Ubah Status (Simulasi)') : 'Toggle Status (Simulate)';
        saveNewsUpdate.textContent = lang === 'id' ? (translations.id["Save News"] || 'Simpan Berita') : 'Save News';
        closeAdmin.textContent = lang === 'id' ?
            (translations.id["Close Admin Area"] || 'Tutup Area Admin') : 'Close Admin Area';
        // SEO Labels/Button (NEW)
        document.querySelector('label[for="seoTitleInput"]').textContent = lang === 'id' ?
            (translations.id["Page Title (Hanya Title Tag HTML)"] || 'Judul Halaman (Hanya Tag Title HTML)') : 'Page Title (HTML Title Tag Only)';
        document.querySelector('label[for="seoDescTextarea"]').textContent = lang === 'id' ?
            (translations.id["Meta Description"] || 'Deskripsi Meta') : 'Meta Description';
        document.querySelector('label[for="seoKeywordsInput"]').textContent = lang === 'id' ?
            (translations.id["Meta Keywords (Comma-separated)"] || 'Kata Kunci Meta (Dipisahkan Koma)') : 'Meta Keywords (Comma-separated)';
        saveSeoMeta.textContent = lang === 'id' ? (translations.id["Update SEO Meta"] || 'Perbarui Meta SEO') : 'Update SEO Meta';
    }
}

function applyTranslations(lang) {
    const transitionDuration = 200; // ms
    const elementsToTranslate = Array.from(elements).filter(el => el.dataset.original);

    // 1. Fade out (to prevent visual jump)
    elementsToTranslate.forEach(el => {
        if (el.style.opacity !== '0') { // Only apply transition if element is visible
            el.style.transition = `opacity ${transitionDuration}ms ease`;
            el.style.opacity = '0';
        }
    });

    // 2. Wait for fade-out
    setTimeout(() => {
        // 3. Apply new content (Opacity is 0, so change is invisible)
        elements.forEach(el=>{
            const orig = el.dataset.original;
            if(!orig) return;
            el.textContent = lang === 'en' ? orig : (translations[lang]?.[orig] || orig);
        });
        // Fix buttons/labels manually
        modalCancel.textContent = lang === 'id' ? (translations.id['Cancel'] || 'Batal') : 'Cancel';
        // Check if it's a purchase flow, otherwise set to Download
        if (isRolePurchase) {
            modalConfirm.textContent = lang === 'id' ? (translations.id['Beli'] || 'Beli') : 'Buy';
            // Translate the initial purchase modal title/desc
            if(pendingRole) {
                modalTitle.textContent = (lang === 'id' ? (translations.id['Pembelian Role'] || 'Pembelian Role') : 'Role Purchase') + ' ' + pendingRole.name;
                modalDesc.textContent = lang === 'id' ? (translations.id['Mohon masukkan GrowID Anda:'] || 'Mohon masukkan GrowID Anda:') : 'Please enter your GrowID:';
                growidLabel.textContent = lang === 'id' ? 'GrowID Anda:' : 'Your GrowID:';
            }
        } else {
            modalConfirm.textContent = lang === 'id' ? (translations.id['Download'] || 'Unduh') : 'Download';
        }

        welcomeSave.textContent = lang === 'id' ? (translations.id['Save & Continue'] || 'Simpan & Lanjutkan') : 'Save & Continue';
        welcomeSkip.textContent = lang === 'id' ? (translations.id['Skip'] || 'Lewati') : 'Skip'; 
        discordLink.textContent = lang === 'id' ? (translations.id['Join Growfax Discord'] || 'Gabung Discord Growfax') : 'Join Growfax Discord';
        reportBugLink.textContent = lang === 'id' ? (translations.id['üêû Report Bug'] || 'üêû Laporkan Bug') : 'üêû Report Bug';

        // Translate the Role Shop H2
        const roleShopH2 = document.querySelector('#role-shop h2');
        if (roleShopH2) {
            roleShopH2.textContent = lang === 'id' ? (translations.id['üëë Role Shop - Support Server'] || 'üëë Toko Role - Dukungan Server') : 'üëë Role Shop - Support Server';
        }

        // Update time, mailto link and Admin area translations
        updateTime(); // Update time with new language
        updateReportBugLink();
        updateAdminAreaTranslations(lang);
        
        // Update new payment info
        document.getElementById('paymentTitle').textContent = lang === 'id' ? (translations.id['Metode Pembayaran'] || 'Metode Pembayaran') : 'Payment Method';
        document.getElementById('paymentInstructions').textContent = lang === 'id' ? (translations.id['Klik tombol beli di atas, masukkan GrowID, dan ikuti instruksi pembayaran via DANA.'] || 'Klik tombol beli di atas, masukkan GrowID, dan ikuti instruksi pembayaran via DANA.') : 'Click the buy button above, enter your GrowID, and follow DANA payment instructions.';


        // 4. Fade back in (Opacity 1)
        elementsToTranslate.forEach(el => {
            // Restore opacity on elements that were hidden
            if (el.style.opacity === '0') {
                el.style.opacity = '1';
                // Remove inline transition after fade-in to let CSS handle it again
                setTimeout(() => el.style.transition = '', transitionDuration);
            }
        });
    }, transitionDuration); // Delay matches the fade-out duration
}
/* =========================== Report Bug Link Logic =========================== */
function updateReportBugLink() {
// ... (existing updateReportBugLink function)
    const lang = langSelect.value;
    let subject, body;
    if (lang === 'id') {
        subject = 'Laporan Bug - Growfax';
        body = 'Mohon jelaskan bug yang Anda temukan:\n\n---\nDevice/Platform (Android/iOS/PC):\nWaktu Kejadian:\nLangkah-langkah mereplikasi bug:\n---\n\n(Silakan lampirkan screenshot atau foto di sini. Terima kasih.)';
    } else {
        subject = 'Bug Report - Growfax';
        body = 'Please describe the bug you found:\n\n---\nDevice/Platform (Android/iOS/PC):\nTime of incident:\nSteps to replicate the bug:\n---\n\n(Please attach screenshots or photos here. Thank you.)';
    }
    const mailtoLink = `mailto:admin@growfax.web.id?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    reportBugLink.setAttribute('href', mailtoLink);
}

// ... (existing theme and language toggle logic)
themeToggle.addEventListener('click', () => {
    const currentTheme = document.body.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    document.body.setAttribute('data-theme', newTheme);
    themeToggle.setAttribute('aria-pressed', newTheme === 'dark');
    themeToggle.innerHTML = newTheme === 'dark' ? 'üåô Dark' : 'üåû Light';
    localStorage.setItem('growfax_theme', newTheme);
    showToast(newTheme === 'dark' ? 'Tema: Gelap' : 'Tema: Terang');
});

langSelect.addEventListener('change', (e) => {
    const newLang = e.target.value;
    applyTranslations(newLang);
    localStorage.setItem('growfax_lang', newLang);
    updateReportBugLink();
    showToast(newLang === 'id' ? 'Bahasa: Indonesia' : 'Language: English');
});

(function initLang(){
    const saved = localStorage.getItem('growfax_lang') || (navigator.language && navigator.language.startsWith('id') ? 'id' : 'en');
    langSelect.value = saved;
    applyTranslations(saved);
    updateReportBugLink(); // Initial link setup
})();

/* =========================== Time display (NY / Jakarta) =========================== */
function getIndoGreeting(hour){
    if(hour < 11) return 'pagi';
    if(hour < 15) return 'siang';
    if(hour < 18) return 'sore';
    return 'malam';
}
function updateTime(){
    const now = new Date();
    const lang = langSelect.value || 'en';
    if(lang === 'id'){
        const options = { timeZone: 'Asia/Jakarta', hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: '2-digit', year: 'numeric' };
        const indoTime = new Intl.DateTimeFormat('id-ID', options).format(now);
        // Get hour separately using the correct timezone
        const hour = parseInt(now.toLocaleString('en-US', { timeZone: 'Asia/Jakarta', hour: '2-digit', hour12: false }));
        const greeting = getIndoGreeting(hour);
        timeDisplay.textContent = `Waktu Lokal (Jakarta): ${indoTime} - ${greeting}`;
    } else {
        const options = { timeZone: 'America/New_York', hour12: true, timeStyle: 'medium', dateStyle: 'medium' };
        const usTime = now.toLocaleString('en-US', options);
        timeDisplay.textContent = `Local Time (New York): ${usTime}`;
    }
}
updateTime();
setInterval(updateTime, 1000);

/* =========================== File Update Checker (modal) =========================== */
document.querySelectorAll('.platform-buttons a').forEach(a=>{
    a.addEventListener('click', (e)=>{
        // Allow ctrl/meta click (open in new tab) and middle-click
        if(e.ctrlKey || e.metaKey || e.button === 1) return;
        e.preventDefault();

        // RESET ROLE PURCHASE STATE
        isRolePurchase = false;
        pendingRole = null;
        growidInputGroup.style.display = 'none';
        document.querySelector('.meta').style.display = 'flex';
        modalFilename.style.display = 'block';
        modalConfirm.textContent = langSelect.value === 'id' ? (translations.id['Download'] || 'Unduh') : 'Download';
        modalConfirm.onclick = handleModalConfirmClick; // Ensure download logic is attached

        const key = a.dataset.filekey;
        const meta = FILE_META[key] || { version: 'v1.0', updated: 'Unknown', changelog: 'No details', size: '‚Äî' };
        const filename = a.dataset.filename || key;
        
        // ... (existing modal content setup for download)
        const lang = langSelect.value;
        modalTitle.textContent = (lang === 'id') ? (translations.id['File info'] || 'Info Berkas') : 'File info';
        modalDesc.textContent = (lang === 'id') ? 
            (translations.id['Details before download'] || 'Detail sebelum mengunduh') : 'Details before download';

        // Set dynamic text fields for file info
        modalVersion.textContent = `${(lang === 'id') ?
            (translations.id['Version'] || 'Versi') + ': ' : 'Version: '}${meta.version}`;
        modalUpdated.textContent = `${(lang === 'id') ?
            (translations.id['Updated'] || 'Diperbarui') + ': ' : 'Updated: '}${meta.updated}`;
        modalChangelog.innerText = `${(lang === 'id') ?
            (translations.id['Changelog'] || 'Catatan pembaruan') + ':' : 'Changelog:'}\n${meta.changelog}\n\n${(lang === 'id') ? (translations.id['Size'] || 'Ukuran') + ': ' : 'Size: '}${meta.size}`;
        modalFilename.textContent = (lang === 'id' ? (translations.id['Filename'] || 'Nama berkas') : 'Filename') + `: ${filename}`;
        
        pendingDownload = { href: a.getAttribute('href'), filename, version: meta.version };
        showModal();
    });
});

function showModal(){
    modalBackdrop.style.display='flex';
    modalBackdrop.setAttribute('aria-hidden','false');
    // Give a slight delay before focusing to let the transition occur
    setTimeout(()=> (isRolePurchase ? growidInput.focus() : modalConfirm.focus()), 200);
} 
function hideModal(){
    modalBackdrop.style.display='none';
    modalBackdrop.setAttribute('aria-hidden','true');
    
    // Reset modal state
    pendingDownload=null;
    isRolePurchase = false; 
    pendingRole = null; 
    
    // Reset visual elements
    growidInputGroup.style.display = 'none'; 
    document.querySelector('.meta').style.display = 'flex'; 
    modalFilename.style.display = 'block';
    
    // Re-set modalConfirm text to "Download"
    modalConfirm.textContent = langSelect.value === 'id' ? (translations.id['Download'] || 'Unduh') : 'Download';
} 
modalCancel.addEventListener('click', (e)=> {
    e.preventDefault();
    hideModal();
    const lang = langSelect.value;
    showToast(lang === 'id' ? 'Aksi dibatalkan.' : 'Action cancelled.', 1500);
});
modalBackdrop.addEventListener('click', (e)=>{ 
    if(e.target===modalBackdrop) hideModal(); 
});


// ADDED: Combined logic for Modal Confirm (Download OR Purchase)
function handleModalConfirmClick() {
    const lang = langSelect.value;

    if (isRolePurchase) {
        // --- PURCHASE LOGIC (2 STEPS) ---
        const growID = growidInput.value.trim();
        if (!growID) {
            showToast(lang === 'id' ? 'Mohon masukkan GrowID Anda.' : 'Please enter your GrowID.', 2000);
            growidInput.focus();
            return;
        }

        if (modalConfirm.textContent === (lang === 'id' ? 'Beli' : 'Buy')) {
            // STEP 1: Confirmed GrowID, show DANA info in modal
            modalTitle.textContent = lang === 'id' ? (translations.id['ID Pembayaran (Simulasi)'] || 'ID Pembayaran (Simulasi)') : 'Payment ID (Simulation)';
            modalDesc.textContent = lang === 'id' ? (translations.id['Mohon transfer sejumlah dana sesuai harga role ke nomor DANA di bawah.'] || 'Mohon transfer sejumlah dana sesuai harga role ke nomor DANA di bawah.') : 'Please transfer the role price amount to the DANA number below.';
            
            const roleName = pendingRole.name;
            const price = parseInt(pendingRole.price).toLocaleString('id-ID');
            const danaNumber = '0812-3456-7890'; // SIMULATED DANA NUMBER

            // Use changelog area for payment details
            modalChangelog.innerHTML = `
                <div style="text-align: left;">
                    <p><strong>Role:</strong> ${roleName}</p>
                    <p><strong>Harga:</strong> Rp${price}</p>
                    <p><strong>Transfer ke DANA:</strong> <span style="font-weight: bold; color: var(--accent);">${danaNumber}</span> (a/n Growfax)</p>
                    <p style="margin-top: 15px; color: var(--danger); font-weight: bold; text-align: center;">** Catatan: Ini adalah simulasi. **</p>
                    <p style="margin-top: 5px; text-align: center;">Setelah transfer, mohon konfirmasi ke Admin Discord.</p>
                </div>
            `;
            
            // Hide/Show elements for payment view
            growidInputGroup.style.display = 'none';
            document.querySelector('.meta').style.display = 'none';
            modalFilename.style.display = 'none';
            modalCancel.style.display = 'none'; // Hide cancel button after step 1
            
            // Change button to final confirmation/close
            modalConfirm.textContent = lang === 'id' ? (translations.id['Selesai & Tutup'] || 'Selesai & Tutup') : 'Done & Close';
            
            trackEvent('role_purchase_initiated_simulated', { role: roleName, grow_id: growID, price: pendingRole.price });

        } else if (modalConfirm.textContent === (lang === 'id' ? 'Selesai & Tutup' : 'Done & Close')) {
            // STEP 2: Final confirmation (resets state)
            trackEvent('role_purchase_completed_simulated_ui', { role: pendingRole.name });
            hideModal();
            modalCancel.style.display = 'block'; // Restore cancel button
            showToast(lang === 'id' ? `‚úÖ Pembelian ${pendingRole.name} (GrowID: ${growidInput.value}) dikonfirmasi. Mohon transfer!` : `‚úÖ ${pendingRole.name} role purchase (GrowID: ${growidInput.value}) confirmed. Please transfer!`, 4000);
        }

    } else {
        // --- ORIGINAL DOWNLOAD LOGIC ---
        if(!pendingDownload) return hideModal();

        // Track file download initiation
        trackEvent('file_download_initiated', { file_name: pendingDownload.filename, file_version: pendingDownload.version || 'Unknown' });

        const a = document.createElement('a');
        a.href = pendingDownload.href;
        a.download = pendingDownload.filename;
        document.body.appendChild(a);
        a.click();
        a.remove();
        
        // For iOS/PowerTunnel, copy text instead of download
        if (pendingDownload.filename.includes('ios_config.txt') || pendingDownload.filename.includes('PowerTunnel_Host.txt')) {
             const meta = FILE_META[document.querySelector(`a[data-filename="${pendingDownload.filename}"]`).dataset.filekey];
             if (meta && meta.copytext) {
                navigator.clipboard.writeText(meta.copytext).then(() => {
                    showToast(lang === 'id' ? 'Teks konfigurasi telah disalin!' : 'Configuration text copied!', 2500);
                }).catch(err => {
                    console.error('Could not copy text: ', err);
                    showToast(lang === 'id' ? 'Gagal menyalin teks.' : 'Failed to copy text.', 2500);
                });
             }
        }
        
        hideModal();
        showToast(langSelect.value === 'id' ? 'Mulai mengunduh...' : 'Download started...');
    }
}
// Attach the combined logic to the button
modalConfirm.addEventListener('click', handleModalConfirmClick);


// ADDED: New Click Handler for Role Cards
document.querySelectorAll('.btn-purchase').forEach(button=>{
    button.addEventListener('click', (e)=>{
        e.preventDefault();
        const card = e.target.closest('.role-card');
        const roleName = button.dataset.roleName; // Use data attribute on button for cleaner name
        const priceText = card.querySelector('.price').textContent.trim();
        const priceValue = card.dataset.price;
        const lang = langSelect.value;
        
        // Set state for Role Purchase
        isRolePurchase = true;
        pendingRole = { name: roleName, price: priceValue };
        pendingDownload = null; // Clear download state

        // Configure Modal for Role Purchase (STEP 1)
        modalTitle.textContent = (lang === 'id' ? (translations.id['Pembelian Role'] || 'Pembelian Role') : 'Role Purchase') + ' ' + roleName;
        modalDesc.textContent = lang === 'id' ? (translations.id['Mohon masukkan GrowID Anda:'] || 'Mohon masukkan GrowID Anda:') : 'Please enter your GrowID:';

        // Show/Hide elements
        growidInputGroup.style.display = 'block';
        growidInput.value = '';
        growidLabel.textContent = lang === 'id' ? 'GrowID Anda:' : 'Your GrowID:'; 
        document.querySelector('.meta').style.display = 'none';
        modalFilename.style.display = 'none';
        modalCancel.style.display = 'block'; // Ensure cancel is visible at step 1
        modalChangelog.innerHTML = `
            <p style="text-align: center; margin: 0;">${lang === 'id' ? 'Harga' : 'Price'}: <strong>${priceText}</strong></p>
        `;

        // Update button text for the initial step
        modalConfirm.textContent = lang === 'id' ? (translations.id['Beli'] || 'Beli') : 'Buy';
        
        // Ensure the correct handler is attached (already done by the initialization, but good practice to ensure)
        modalConfirm.onclick = handleModalConfirmClick;

        showModal(); // Use existing function to display modal
    });
});
/* =========================== Admin Area Logic =========================== */
// ... (existing Admin Area Logic)
function updateServerStatusDisplay() {
    const lang = langSelect.value;
    const onlineText = lang === 'id' ? (translations.id['Online'] || 'Online') : 'Online';
    const offlineText = lang === 'id' ?
        (translations.id['Offline'] || 'Offline') : 'Offline';
    serverStatusDisplay.textContent = isServerOnline ? onlineText : offlineText;
    serverStatusDisplay.style.color = isServerOnline ? 'var(--success)' : 'var(--danger)';
}

openAdmin.addEventListener('click', () => {
    adminBackdrop.style.display = 'flex';
    if (!isAdminLoggedIn) {
        adminTokenInput.focus();
    } else {
        renderAnalyticsDashboard(); // Render dashboard when opening if logged in
    }
    adminBackdrop.setAttribute('aria-hidden', 'false');
});
closeAdmin.addEventListener('click', () => {
    adminBackdrop.style.display = 'none';
    adminBackdrop.setAttribute('aria-hidden', 'true');
    // Stop auto-refresh on logout/close
    if (analyticsIntervalId !== null) {
        clearInterval(analyticsIntervalId);
        analyticsIntervalId = null;
        console.log("[ANALYTICS] Auto-refresh stopped.");
    }
});

adminTokenSubmit.addEventListener('click', () => {
    const token = adminTokenInput.value.trim();
    const lang = langSelect.value;
    if (token === ADMIN_TOKEN) {
        isAdminLoggedIn = true; // Set login state
        adminLogin.style.display = 'none';
        adminContent.style.display = 'block';
        updateServerStatusDisplay(); // Load simulated news and SEO settings
        newsUpdateTextarea.value = localStorage.getItem('growfax_news_update') || '';
        loadAndApplySeoSettings();
        // Load SEO settings to inputs
        // NEW: Render Analytics Dashboard and START AUTO-REFRESH (30 seconds)
        renderAnalyticsDashboard();
        if (analyticsIntervalId === null) {
            analyticsIntervalId = setInterval(renderAnalyticsDashboard, 30000);
            console.log("[ANALYTICS] Auto-refresh started (30s interval)");
        }
        // Track Admin Login Success
        trackEvent('admin_login_success');
        showToast(lang === 'id' ? '‚úÖ Akses Admin diberikan!' : '‚úÖ Admin Access granted!', 2000);
    } else {
        // Track Admin Login Failure
        trackEvent('admin_login_failure');
        showToast(lang === 'id' ? '‚ùå Token Admin Salah.' : '‚ùå Incorrect Admin Token.', 2000);
        adminTokenInput.value = '';
        adminTokenInput.focus();
    }
});
// Toggle Status Logic (Simulated)
toggleServerStatus.addEventListener('click', () => {
    isServerOnline = !isServerOnline;
    updateServerStatusDisplay();
    // Track Server Status Toggle
    trackEvent('server_status_toggled', { new_status: isServerOnline ? 'Online' : 'Offline' });
    showToast(langSelect.value === 'id' ? 'Status Server diubah.' : 'Server Status changed.', 1500);
});
// Save News Logic (Simulated)
saveNewsUpdate.addEventListener('click', () => {
    const news = newsUpdateTextarea.value;
    // Save to local storage for persistence
    localStorage.setItem('growfax_news_update', news);
    // Track News Update
    trackEvent('news_update_saved', { char_count: news.length });
    showToast(langSelect.value === 'id' ? 'Pembaruan Berita disimpan.' : 'News Update saved.', 1500);
});
// Save SEO Meta Logic (Simulated - NEW)
saveSeoMeta.addEventListener('click', () => {
    const title = seoTitleInput.value.trim();
    const desc = seoDescTextarea.value.trim();
    const keywords = seoKeywordsInput.value.trim();
    const lang = langSelect.value;

    localStorage.setItem('seo_title', title);
    localStorage.setItem('seo_desc', desc);
    localStorage.setItem('seo_keywords', keywords);

    updateSeoMetaTags(title, desc, keywords); // Apply changes immediately
    
    // Track SEO Update
    trackEvent('seo_meta_updated', { title_len: title.length, desc_len: desc.length });

    showToast(lang === 'id' ? 'Meta SEO diperbarui.' : 'SEO Meta updated.', 1500);
});

/* =========================== Welcome Screen Logic =========================== */
function showWelcome(){
    welcomeBackdrop.style.display='flex';
    welcomeBackdrop.setAttribute('aria-hidden','false');
}
function hideWelcome(){
    welcomeBackdrop.style.display='none';
    welcomeBackdrop.setAttribute('aria-hidden','true');
}

openWelcome.addEventListener('click', ()=> showWelcome());
welcomeSkip.addEventListener('click', ()=> hideWelcome());
welcomeBackdrop.addEventListener('click', (e)=>{
    if(e.target===welcomeBackdrop) hideWelcome();
});
welcomeSave.addEventListener('click', ()=>{
    const lang = welcomeLang.value;
    const theme = document.querySelector('input[name="welcomeTheme"]:checked').value;
    
    // Apply changes
    langSelect.value = lang;
    applyTranslations(lang);
    document.body.setAttribute('data-theme', theme);
    themeToggle.setAttribute('aria-pressed', theme === 'dark');
    themeToggle.innerHTML = theme === 'dark' ? 'üåô Dark' : 'üåû Light';
    
    // Save to storage
    localStorage.setItem('growfax_lang', lang);
    localStorage.setItem('growfax_theme', theme);
    
    hideWelcome();
    showToast('Preferences saved!', 1500);
});

// Auto-show welcome screen on first visit
(function(){
    const seen = localStorage.getItem('growfax_seen');
    if(!seen){
        welcomeLang.value = localStorage.getItem('growfax_lang') || (navigator.language && navigator.language.startsWith('id') ? 'id' : 'en');
        const savedTheme = localStorage.getItem('growfax_theme') || 'light';
        document.querySelectorAll('input[name="welcomeTheme"]').forEach(r=> r.checked = (r.value === savedTheme));
        showWelcome();
        localStorage.setItem('growfax_seen','1');
    }
})();

/* =========================== Storage helpers & UI helpers =========================== */
function showToast(text, ms=1500){
    toast.textContent = text;
    toast.style.opacity = '1';
    toast.style.transform = 'translateX(-50%) translateY(0)';
    toast.style.pointerEvents = 'auto';
    toast.style.display = 'block';
    setTimeout(()=> {
        toast.style.opacity = '0';
        toast.style.pointerEvents = 'none';
        setTimeout(()=> toast.style.display = 'none', 300);
    }, ms);
}
/* END OF SCRIPT */
</script>
</body>
</html>
